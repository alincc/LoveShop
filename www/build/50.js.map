{"version":3,"sources":["../../src/spa/+screens/benefits/buy/buyDiscountedSupperGiftCard/buyDiscountedSupperGiftCard.module.ts","../../src/spa/+screens/orderManagement/orderManagementSharingData.services.ts","../../src/spa/+screens/benefits/buy/buyDiscountedSupperGiftCard/buyDiscountedSupperGiftCard.ts","../../src/spa/+screens/benefits/buy/buyDiscountedSupperGiftCard/buyDiscountedSupperGiftCard.service.ts"],"names":[],"mappings":"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","file":"50.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BuyDiscountedSupperGiftCardPage } from './buyDiscountedSupperGiftCard';\n\n@NgModule({\n  declarations: [BuyDiscountedSupperGiftCardPage],\n  imports: [IonicPageModule.forChild(BuyDiscountedSupperGiftCardPage)],\n  exports: [BuyDiscountedSupperGiftCardPage]\n})\nexport class BuyDiscountedSupperGiftCardPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/benefits/buy/buyDiscountedSupperGiftCard/buyDiscountedSupperGiftCard.module.ts","import { BehaviorSubject } from \"rxjs/Rx\";\n\nexport class OrderManagementSharingDataService {\n  private defaultMasterData: any = {};\n  private orderGenerateEcode: any;\n  private orderGenerateSupermarket: any;\n  private orderGenerate: any;\n\n  private primaryCard: any;\n\n  private currentMasterData: any = Object.assign({}, this.defaultMasterData);\n  private _state$ = new BehaviorSubject<any>(this.currentMasterData);\n\n  get state$() {\n    return this._state$;\n  }\n\n  resetState() {\n    this.currentMasterData = Object.assign({}, this.defaultMasterData);\n    this._state$.next(this.currentMasterData);\n  }\n\n\n  saveOrderGenerateOrderSupermarket(data: any) {\n    this.orderGenerateSupermarket = data;\n  }\n\n  getOrderGenerateOrderSupermaket() {\n    return this.orderGenerateSupermarket;\n  }\n\n  resetOrderGenerateOrderSuperMarket() {\n    this.orderGenerateSupermarket = Object.assign({}, this.defaultMasterData);\n  }\n\n\n  savePrimaryCard(data: any) {\n    this.primaryCard = data;\n  }\n\n  getPrimaryCard() {\n    return this.primaryCard;\n  }\n\n  resetPrimaryCard() {\n    this.primaryCard = Object.assign({}, this.defaultMasterData);\n  }\n\n  private static _instance: OrderManagementSharingDataService = new OrderManagementSharingDataService();\n  public static getInstance(): OrderManagementSharingDataService {\n    return OrderManagementSharingDataService._instance;\n  }\n  constructor() {\n    if (OrderManagementSharingDataService._instance) {\n      throw new Error('Error: Instantiation failed: '\n        + 'Use YourCardDetailsSharingDataService.getInstance() instead of new.');\n    }\n\n    OrderManagementSharingDataService._instance = this;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/orderManagement/orderManagementSharingData.services.ts","import {Component} from '@angular/core';\nimport {AlertController, IonicPage, NavController, NavParams} from 'ionic-angular';\nimport {Subscription} from \"rxjs/Subscription\";\nimport {\n  BuyDiscountedSupperGiftCardService, CatalogueTypes,\n  RequestRetrieveCatalogue\n} from \"./buyDiscountedSupperGiftCard.service\";\nimport {LoadingIndicatorService} from \"../../../../framework/services/loadingIndicatorService/loadingIndicator.service\";\nimport {RouteManagerService} from \"../../../../framework/services/routeManager/routeManager.service\";\nimport {OrderManagementSharingDataService} from \"../../../orderManagement/orderManagementSharingData.services\";\nimport {AppConfig} from \"../../../../framework/appConfig\";\n\n@IonicPage()\n@Component({\n  selector: 'page-buyDiscountedSupperGiftCard',\n  templateUrl: 'buyDiscountedSupperGiftCard.html',\n  providers: [\n    BuyDiscountedSupperGiftCardService\n  ]\n})\nexport class BuyDiscountedSupperGiftCardPage {\n  benefit: any;\n  categoryName: string = 'discounted supermarket cards';\n  card: any;\n  products: any;\n  catalogue: any;\n  category: any;\n  noContent: any;\n  baseResourceUrl;\n  basket_form_no_card_available;\n\n  private _getCardsSub: Subscription;\n  private _generateOrder: Subscription;\n\n  constructor(public routeManager: RouteManagerService,\n              public alertCtrl: AlertController,\n              public navParams: NavParams,\n              public navCtrl: NavController,\n              public buyDiscountedSupperGiftCardService: BuyDiscountedSupperGiftCardService) {\n    this.baseResourceUrl = AppConfig.Configuration.HttpService.baseResourceUrl;\n    this.basket_form_no_card_available = AppConfig.Configuration.ContentMessage.basket_form_no_card_available;\n  }\n\n  ionViewWillEnter() {\n    this._resetData();\n    if (this.routeManager.ifNotLoggedInThenGoBackToLoginScreen() === false) {\n      if (this.navParams.get('benefit')) {\n        this.benefit = this.navParams.get('benefit');\n      }\n      if (this.navParams.get('card')) {\n        this.card = this.navParams.get('card');\n      }\n      if (this.navParams.get('catalogues')) {\n        const catalogues = this.navParams.get('catalogues');\n        this.products = this._extractsCardFromCatalogues(catalogues);\n\n\n      }\n    }\n\n  }\n\n  ionViewDidLeave() {\n    this._unsubscribe();\n  }\n\n  gotoOrder(product) {\n    if (this._generateOrder) {\n      this._generateOrder.unsubscribe();\n    }\n    LoadingIndicatorService.getInstance().showLoadingIndicator();\n    let body = this._buildGenerateOrderRequest(product);\n\n    this.buyDiscountedSupperGiftCardService.generateOrder(body)\n      .subscribe((res) => {\n        if (!res.ok) {\n          return;\n        }\n        let body = res.response;\n        OrderManagementSharingDataService.getInstance().savePrimaryCard((this.card));\n        OrderManagementSharingDataService.getInstance().saveOrderGenerateOrderSupermarket(body);\n        this.navCtrl.push(\"OrderSupermarketStep1\");\n      }, (error) => {\n        LoadingIndicatorService.getInstance().hideLoadingIndicator();\n      }, () => {\n        LoadingIndicatorService.getInstance().hideLoadingIndicator();\n      });\n  }\n\n  private _buildGenerateOrderRequest(product) {\n    let body = {\n      \"propositionId\": this.card.propositionId,\n      \"orderJourney\": \"ORDER_STORE_CARD\",\n      \"orderlines\": []\n    }\n\n    let orderLineProductSelected = {\n      \"productCode\": product.productCode,\n      \"quantity\": 1,\n    }\n    body.orderlines.push(orderLineProductSelected);\n    return body;\n  }\n\n  private _buildCatalogueRequest(): RequestRetrieveCatalogue {\n    const catalogueType = CatalogueTypes.PRODUCT;\n    const body: RequestRetrieveCatalogue = {\n      propositionId: this.card.propositionId,\n      productCode: this.card.productCode,\n      series: this.card.series,\n      scheme: this.card.scheme,\n      url: this.benefit.url,\n      catalogueType: catalogueType\n    }\n    return body;\n  }\n\n  private _extractsCardFromCatalogues(catalogues) {\n    let products = [];\n    if (Array.isArray(catalogues)) {\n      for (let i = 0; i < catalogues.length; i++) {\n        let catalogue = catalogues[i];\n        if (Array.isArray(catalogue.categories)) {\n          for (let j = 0; j < catalogue.categories.length; j++) {\n            let category = catalogue.categories[j];\n            category.image = this._selectCategoryImage(category);\n            if (category.name.toLowerCase() == this.categoryName.toLowerCase()) {\n              this.catalogue = catalogue;\n              this.category = category;\n\n              let str = this.category.longDescription;\n              if (this.category.longDescription.indexOf(this.baseResourceUrl) < 1) {\n                this.category.longDescription = str.replace('src=\"', 'src=\"' + this.baseResourceUrl);\n              }\n              if (Array.isArray(category.subCategories)) {\n                for (let k = 0; k < category.subCategories.length; k++) {\n                  let subCategory = category.subCategories[k];\n                  subCategory.image = this._selectCategoryImage(subCategory);\n                  if (Array.isArray(subCategory.products)) {\n                    for (let l = 0; l < subCategory.products.length; l++) {\n                      subCategory.products[l].benefit = this.benefit;\n                      subCategory.products[l].subCategory = subCategory;\n                      subCategory.products[l].category = category;\n                      subCategory.products[l].catalogue = catalogue;\n                    }\n                  }\n                }\n                products = category.subCategories;\n\n              } else if (Array.isArray(category.products)) {\n                products = category.products;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return products;\n  }\n\n  private _selectCategoryImage(cat: any) {\n    if (cat.smallImages && Array.isArray(cat.smallImages) && cat.smallImages[0]) {\n      return cat.smallImages[0]\n    }\n    return null;\n  }\n\n  private _resetData() {\n    this.products = [];\n    this.benefit = null;\n    this.catalogue = null;\n    this.catalogue = null;\n    this.noContent = false;\n  }\n\n  private _unsubscribe() {\n    if (this._getCardsSub) {\n      this._getCardsSub.unsubscribe();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/benefits/buy/buyDiscountedSupperGiftCard/buyDiscountedSupperGiftCard.ts","import { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs/Observable\";\nimport { AppConfig } from \"../../../../framework/appConfig\";\nimport {HttpService} from \"../../../../framework/services/httpService/http.service\";\n\nexport const CatalogueTypes = {\n    PRODUCT: 'P',\n    PERSONALISATION: 'S',\n    FULFILMENT: 'F'\n}\n\nexport interface RequestRetrieveCatalogue {\n    propositionId?: string;\n    scheme?: string;\n    series?: string;\n    productCode?: string;\n    catalogueType: string;\n    url?: string;\n}\n\n@Injectable()\nexport class BuyDiscountedSupperGiftCardService {\n  constructor(\n      private http: HttpService\n  ) {\n  }\n\n  getRetrieveCatalogue(body: RequestRetrieveCatalogue): Observable<any> {\n      return this.http.post(`card/catalogue`, body);\n  }\n\n  generateOrder(orderInfor): Observable<any> {\n    return this.http.post(\"order\", orderInfor);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/benefits/buy/buyDiscountedSupperGiftCard/buyDiscountedSupperGiftCard.service.ts"],"sourceRoot":""}