{"version":3,"sources":["../../src/spa/+screens/orderManagement/orderExchangeGiftCard/orderExchangeGiftCardStep3/orderExchangeGiftCardStep3.ts","../../src/spa/+screens/orderManagement/orderExchangeGiftCard/orderExchangeGiftCardStep3/orderExchangeGiftCardStep3.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAA0C;AACe;AAC8C;AACa;AACzC;AACR;AAC5C;AACmH;AAM1I;IAcE,oCAAmB,YAAiC,EAC3C,OAAsB,EACrB,SAAoB;QAFX,iBAAY,GAAZ,YAAY,CAAqB;QAC3C,YAAO,GAAP,OAAO,CAAe;QACrB,cAAS,GAAT,SAAS,CAAW;QAX9B,aAAQ,GAAG,CAAC,CAAC;QACb,qBAAgB,GAAG,CAAC,CAAC;QACrB,eAAU,GAAG,CAAC,CAAC;QACf,sBAAiB,GAAG,CAAC,CAAC;QACtB,yBAAoB,GAAG,CAAC,CAAC;QAGzB,uCAAkC,GAAG,uEAAG,CAAC,aAAa,CAAC,cAAc,CAAC,kCAAkC,CAAC;QACzG,2CAAsC,GAAG,uEAAG,CAAC,aAAa,CAAC,cAAc,CAAC,sCAAsC,CAAC;QAI/G,IAAI,CAAC,eAAe,GAAG,uEAAG,CAAC,aAAa,CAAC,WAAW,CAAC,eAAe,CAAC;IACvE,CAAC;IAED,qDAAgB,GAAhB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,oCAAoC,EAAE,KAAK,KAAK,CAAC,CAAC,CAAC;YACvE,IAAI,CAAC,WAAW,GAAG,kIAAkC,CAAC,WAAW,EAAE,CAAC,cAAc,EAAE,CAAC;YACrF,IAAI,CAAC,kBAAkB,GAAG,kIAAkC,CAAC,WAAW,EAAE,CAAC,yBAAyB,EAAE,CAAC;YAEvG,IAAI,UAAU,GAAG,kIAAkC,CAAC,WAAW,EAAE,CAAC,aAAa,EAAE,CAAC;YAClF,IAAI,CAAC,mBAAmB,GAAG,UAAU,CAAC,gBAAgB,CAAC;YAEvD,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;gBACxC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YAClE,CAAC;YACD,EAAE,CAAC,CAAC,sFAAK,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gBACtC,IAAI,CAAC,QAAQ,GAAG,sFAAK,CAAC,eAAe,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YACnE,CAAC;YACD,EAAE,CAAC,CAAC,sFAAK,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;gBAC7C,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,kBAAkB,CAAC,UAAU,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;YACrF,CAAC;QACH,CAAC;IACH,CAAC;IAED,qDAAgB,GAAhB;QACE,kIAAkC,CAAC,WAAW,EAAE,CAAC,UAAU,EAAE,CAAC;IAChE,CAAC;IAED,mDAAc,GAAd,UAAe,QAAQ,EAAE,KAAK;QAC5B,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;QAClB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;QAC1B,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;QAC3B,EAAE,CAAC,CAAC,sFAAK,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YACrD,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACzC,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YACzC,CAAC;YACD,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,wBAAwB,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC;YAErF,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC;YAC/D,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,GAAG,IAAI,CAAC,iBAAiB,CAAC;QACxF,CAAC;IACH,CAAC;IAED,gDAAW,GAAX;QAAA,iBAMC;QALG,8CAAC,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;QAC7C,0JAAiC,CAAC,WAAW,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/E,0JAAiC,CAAC,WAAW,EAAE,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YAC/F,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;IACL,CAAC;IAlEU,0BAA0B;QAJtC,wEAAS,CAAC;YACT,QAAQ,EAAE,iCAAiC;WACG;SAC/C,CAAC;iFAeoD;YAClC,kEAAa;YACV,SAAS;OAhBnB,0BAA0B,CAmEtC;IAAD,CAAC;AAAA;SAnEY,0BAA0B,mB;;;;;;;;;;;;;;;;;;;ACbE;AACO;AAC0B;AAO1E;IAAA;IAAgD,CAAC;IAApC,gCAAgC;QAL5C,uEAAQ,CAAC;YACR,YAAY,EAAE,CAAC,+FAA0B,CAAC;YAC1C,OAAO,EAAE,CAAC,sEAAe,CAAC,QAAQ,CAAC,+FAA0B,CAAC,CAAC;YAC/D,OAAO,EAAE,CAAC,+FAA0B,CAAC;SACtC,CAAC;OACW,gCAAgC,CAAI;IAAD,uCAAC;CAAA;AAAJ","file":"88.js","sourcesContent":["import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { RouteManagerService } from '../../../../framework/services/routeManager/routeManager.service';\nimport { MyShoppingBasketSharingDataService } from \"../../../myShoppingBasket/myShoppingBasketSharingData.services\";\nimport { Utils } from \"../../../../framework/services/utilities/utilities\";\nimport { AppConfig as app } from \"../../../../framework/appConfig\";\nimport $ from 'jquery';\nimport {YourCardDetailsSharingDataService} from \"../../../CardManagement/cardDetails/yourCardDetails/yourCardDetailsSharingData.services\";\n@IonicPage()\n@Component({\n  selector: 'page-orderExchangeGiftCardStep3',\n  templateUrl: 'orderExchangeGiftCardStep3.html'\n})\nexport class OrderExchangeGiftCardStep3 {\n  private primaryCard;\n  private orderAfterGenerate;\n  private currency;\n\n  totalFee = 0;\n  totalFeeDelivery = 0;\n  totalPrice = 0;\n  totalPotentialFee = 0;\n  currentIndexDelivery = 0;\n  allProductsOnBasket;\n  baseResourceUrl;\n  order_confirmation_default_p_title = app.Configuration.ContentMessage.order_confirmation_default_p_title;\n  order_confirmation_default_p_strapline = app.Configuration.ContentMessage.order_confirmation_default_p_strapline;\n  constructor(public routeManager: RouteManagerService,\n    public navCtrl: NavController,\n    private navParams: NavParams) {\n    this.baseResourceUrl = app.Configuration.HttpService.baseResourceUrl;\n  }\n\n  ionViewWillEnter() {\n    if (this.routeManager.ifNotLoggedInThenGoBackToLoginScreen() === false) {\n      this.primaryCard = MyShoppingBasketSharingDataService.getInstance().getPrimaryCard();\n      this.orderAfterGenerate = MyShoppingBasketSharingDataService.getInstance().getDataAfterGenerateOrder();\n\n      let dataBasket = MyShoppingBasketSharingDataService.getInstance().getDataBasket();\n      this.allProductsOnBasket = dataBasket.productsOnBasket;\n\n      if (this.navParams.get('deliveryIndex')) {\n        this.currentIndexDelivery = this.navParams.get('deliveryIndex');\n      }\n      if (Utils.isNotNull(this.primaryCard)) {\n        this.currency = Utils.convertCurrency(this.primaryCard.currency);\n      }\n      if (Utils.isNotNull(this.orderAfterGenerate)) {\n        this.calculateTotal(this.orderAfterGenerate.orderlines, this.currentIndexDelivery);\n      }\n    }\n  }\n\n  ionViewWillLeave() {\n    MyShoppingBasketSharingDataService.getInstance().resetState();\n  }\n\n  calculateTotal(products, index) {\n    this.totalFee = 0;\n    this.totalPrice = 0;\n    this.totalFeeDelivery = 0;\n    this.totalPotentialFee = 0;\n    if (Utils.isNotNull(products) && products.length > 0) {\n      for (let i = 0; i < products.length; i++) {\n        this.totalFee += products[i].feeAmount;\n      }\n      this.totalFeeDelivery = this.orderAfterGenerate.availableDeliveryMethods[index].cost;\n\n      this.totalPotentialFee = this.totalFee + this.totalFeeDelivery;\n      this.totalPrice = this.orderAfterGenerate.totalPaymentAmount + this.totalPotentialFee;\n    }\n  }\n\n  gotoBenefit() {\n      $('.app-root').removeClass('not-show-tab');\n    YourCardDetailsSharingDataService.getInstance().updateListCard$.next('update');\n    YourCardDetailsSharingDataService.getInstance().updateListCard$.asObservable().take(1).subscribe(() => {\n      this.navCtrl.parent.select(2);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/orderManagement/orderExchangeGiftCard/orderExchangeGiftCardStep3/orderExchangeGiftCardStep3.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { OrderExchangeGiftCardStep3 } from './orderExchangeGiftCardStep3';\n\n@NgModule({\n  declarations: [OrderExchangeGiftCardStep3],\n  imports: [IonicPageModule.forChild(OrderExchangeGiftCardStep3)],\n  exports: [OrderExchangeGiftCardStep3]\n})\nexport class OrderExchangeGiftCardStep3Module { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/orderManagement/orderExchangeGiftCard/orderExchangeGiftCardStep3/orderExchangeGiftCardStep3.module.ts"],"sourceRoot":""}