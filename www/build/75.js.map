{"version":3,"sources":["../../src/spa/+screens/orderManagement/orderMasterCardExchange/orderMasterCardExchangeStep2/orderMasterCardExchangeStep2.ts","../../src/spa/+screens/orderManagement/orderMasterCardExchange/orderMasterCardExchangeStep2/orderMasterCardExchangeStep2.module.ts","../../src/spa/+screens/CardManagement/cardDetails/cardDetailsSharing.services.ts"],"names":[],"mappings":"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","file":"75.js","sourcesContent":["import {Component} from '@angular/core';\nimport {IonicPage, NavController, NavParams} from 'ionic-angular';\nimport {RouteManagerService} from '../../../../framework/services/routeManager/routeManager.service';\nimport {OrderMasterCardExchangeSharingDataService} from \"../orderMasterCardExchangeSharingData.services\";\nimport {CardDetailSharingDataService} from \"../../../CardManagement/cardDetails/cardDetailsSharing.services\";\nimport $ from 'jquery';\nimport {YourCardDetailsApiGateway} from \"../../../Others/home/yourCardDetailsApiGateway\";\nimport {AppConfig as app} from \"../../../../framework/appConfig\";\nimport {YourCardDetailsSharingDataService} from \"../../../CardManagement/cardDetails/yourCardDetails/yourCardDetailsSharingData.services\";\n@IonicPage()\n@Component({\n  selector: 'page-orderMasterCardExchangeStep2',\n  templateUrl: 'orderMasterCardExchangeStep2.html'\n})\nexport class OrderMasterCardExchangeStep2 {\n  cardId;\n  orderComplete;\n  orderInforAfterGenerate;\n  cardPrimary;\n  cardVirtualToShowOnCard;\n  imageMasterCard;\n  baseResourceUrl;\n  masterCardTypeSelected;\n  purchasemastercard_form_label_card_details= app.Configuration.ContentMessage.purchasemastercard_form_label_card_details;\n  order_confirmation_card_tfoot= app.Configuration.ContentMessage.order_confirmation_card_tfoot;\n\n  constructor(public routeManager: RouteManagerService,\n              private navParams: NavParams,\n              public navCtrl: NavController,) {\n  }\n\n  ionViewWillEnter() {\n    $('.app-root').addClass('not-show-tab');\n    this.baseResourceUrl = app.Configuration.HttpService.baseResourceUrl;\n    if (this.routeManager.ifNotLoggedInThenGoBackToLoginScreen() === false) {\n      if (this.navParams.get('orderSuccess')) {\n        this.orderComplete = this.navParams.get('orderSuccess');\n      }\n      if (this.navParams.get('orderInforAfterGenerate')) {\n        this.orderInforAfterGenerate = this.navParams.get('orderInforAfterGenerate');\n      }\n      if (this.navParams.get('cardPrimary')) {\n        this.cardPrimary = this.navParams.get('cardPrimary');\n      }\n\n      if (this.navParams.get('imageMasterCard')) {\n        this.imageMasterCard = this.navParams.get('imageMasterCard');\n      }\n\n      this.orderComplete.orderNumber = this.orderInforAfterGenerate.orderNumber;\n      this.orderComplete.logoPath = this.cardPrimary.cardLogoPath;\n      this.orderComplete.title = this.orderInforAfterGenerate.title;\n      this.orderComplete.lastName = this.orderInforAfterGenerate.lastName;\n      this.orderComplete.firstName = this.orderInforAfterGenerate.firstName;\n      this.orderComplete.totalPaymentAmount = this.orderInforAfterGenerate.orderlines[0].paymentAmount;\n\n      let virtualCardNumber = this.orderComplete.cardNumber;\n      this.cardVirtualToShowOnCard = virtualCardNumber.replace(/(\\d{4})/g, '$1 ');\n\n    }\n  }\n\n  ionViewWillLeave() {\n    $('.app-root').removeClass('not-show-tab');\n  }\n\n\n  goCardDetails() {\n    let card = {\n      reloadData: true,\n      cardNumber: this.orderComplete.cardNumber,\n      cardId: this.orderComplete.cardID\n    }\n    CardDetailSharingDataService.getInstance().gotoCardDataReload = card;\n    YourCardDetailsSharingDataService.getInstance().saveCardInforActive = card;\n    this.navCtrl.popToRoot({animate: false, duration: 0});\n    setTimeout(() => this.navCtrl.parent.select(0, {animate: false, duration: 0}), 200\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/orderManagement/orderMasterCardExchange/orderMasterCardExchangeStep2/orderMasterCardExchangeStep2.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { OrderMasterCardExchangeStep2 } from './orderMasterCardExchangeStep2';\n\n@NgModule({\n  declarations: [OrderMasterCardExchangeStep2],\n  imports: [IonicPageModule.forChild(OrderMasterCardExchangeStep2)],\n  exports: [OrderMasterCardExchangeStep2]\n})\nexport class orderMasterCardExchangeStep2Module { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/orderManagement/orderMasterCardExchange/orderMasterCardExchangeStep2/orderMasterCardExchangeStep2.module.ts","import {BehaviorSubject} from \"rxjs/BehaviorSubject\";\nimport { Subject } from \"rxjs/Subject\";\n\nexport class CardDetailSharingDataService {\n    private defaultMasterData: any = {};\n    private currentMasterData: any = Object.assign({}, this.defaultMasterData);\n    private _state$ = new BehaviorSubject<any>(this.currentMasterData);\n    private primaryCard;\n    private currentCard;\n    private _gotoCardData;\n    private _gotoCardDataReload;\n\n    get state$() {\n        return this._state$;\n    }\n\n\n    resetState() {\n        this.currentMasterData = Object.assign({}, this.defaultMasterData);\n        this._state$.next(this.currentMasterData);\n    }\n\n    saveStep1Screen(step1Model: any) {\n        this.currentMasterData.step1Model = step1Model;\n    }\n\n    saveStep2Screen(step2Model: any) {\n        this.currentMasterData.step2Model = step2Model;\n    }\n\n    getAmountTopupAtStep1() {\n        return this.currentMasterData.step1Model.topUpInput;\n    }\n\n    savePrimaryCard(primaryCard) {\n\n        this.primaryCard = primaryCard;\n    }\n\n    getPrimaryCard() {\n        return this.primaryCard;\n    }\n\n    resetPrimaryCard() {\n        this.primaryCard = null;\n    }\n\n\n    saveCurrentCard(currentCard) {\n        this.currentCard = currentCard;\n    }\n\n    getCurrentCard() {\n        return this.currentCard;\n    }\n\n    resetCurrentCard() {\n        this.currentCard = null;\n    }\n\n    get gotoCardData() {\n        return this._gotoCardData;\n    }\n\n    set gotoCardData(card) {\n        this._gotoCardData = card;\n    }\n\n    get gotoCardDataReload() {\n        return this._gotoCardDataReload;\n    }\n\n    set gotoCardDataReload(card) {\n        this._gotoCardDataReload = card;\n    }\n\n    // tslint:disable-next-line:member-ordering\n    private static _instance: CardDetailSharingDataService = new CardDetailSharingDataService();\n\n    public static getInstance(): CardDetailSharingDataService {\n        return CardDetailSharingDataService._instance;\n    }\n\n    constructor() {\n        if (CardDetailSharingDataService._instance) {\n            throw new Error('Error: Instantiation failed: '\n                + 'Use CardDetailSharingDataService.getInstance() instead of new.');\n        }\n\n        CardDetailSharingDataService._instance = this;\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/CardManagement/cardDetails/cardDetailsSharing.services.ts"],"sourceRoot":""}