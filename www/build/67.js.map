{"version":3,"sources":["../../src/spa/+screens/orderManagement/orderDiscountGiftCard/orderDiscountGiftCardAddPersonalMessage/orderDiscountGiftCardAddPersonalMessage.module.ts","../../src/spa/+screens/orderManagement/orderDiscountGiftCard/orderDiscountGiftCardSharingData.services.ts","../../src/spa/+screens/orderManagement/orderDiscountGiftCard/orderDiscountGiftCardAddPersonalMessage/orderDiscountGiftCardAddPersonalMessage.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACoD;AAOpG;IAAA;IAA6D,CAAC;IAAjD,6CAA6C;QALzD,uEAAQ,CAAC;YACR,YAAY,EAAE,CAAC,yHAAuC,CAAC;YACvD,OAAO,EAAE,CAAC,sEAAe,CAAC,QAAQ,CAAC,yHAAuC,CAAC,CAAC;YAC5E,OAAO,EAAE,CAAC,yHAAuC,CAAC;SACnD,CAAC;OACW,6CAA6C,CAAI;IAAD,oDAAC;CAAA;AAAJ;;;;;;;;;ACN1D;AAAA;IAsKE;QApKA,oBAAe,GAAG;YAChB,gBAAgB,EAAE,KAAK;YACvB,UAAU,EAAE,IAAI;SACjB;QAEC,0BAAqB,GAAG;YACpB,MAAM,EAAE,KAAK;YACb,cAAc,EAAE,IAAI;SACvB;QAEH,uBAAkB,GAAG;YACnB,oBAAoB,EAAE,KAAK;YAC3B,oBAAoB,EAAE,IAAI;YAC1B,iBAAiB,EAAE,CAAC;SACrB;QAED,4BAAuB,GAAG;YACxB,yBAAyB,EAAE,KAAK;YAChC,yBAAyB,EAAE,IAAI;YAC/B,sBAAsB,EAAE,CAAC;YACzB,QAAQ,EAAE,CAAC;SACZ;QAED,wBAAmB,GAAG,KAAK,CAAC;QAG5B,gBAAW,GAAG;YACZ,mBAAmB,EAAE,KAAK;YAC1B,cAAc,EAAE,IAAI;SACrB;QAwIC,EAAE,CAAC,CAAC,uCAAuC,CAAC,SAAS,CAAC,CAAC,CAAC;YACtD,MAAM,IAAI,KAAK,CAAC,+BAA+B;kBAC3C,qEAAqE,CAAC,CAAC;QAC7E,CAAC;QAED,uCAAuC,CAAC,SAAS,GAAG,IAAI,CAAC;IAC3D,CAAC;IA3ID,2DAAS,GAAT;QACE,IAAI,CAAC,eAAe,GAAG;YACrB,gBAAgB,EAAE,KAAK;YACvB,UAAU,EAAE,IAAI;SACjB;QAED,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAE1B,CAAC;IAED,qEAAmB,GAAnB;QACE,IAAI,CAAC,kBAAkB,GAAG;YACxB,oBAAoB,EAAE,KAAK;YAC3B,oBAAoB,EAAE,IAAI;YAC1B,iBAAiB,EAAE,CAAC;SACrB;IAEH,CAAC;IAED,sEAAoB,GAApB;QAEE,IAAI,CAAC,uBAAuB,GAAG;YAC7B,yBAAyB,EAAE,KAAK;YAChC,yBAAyB,EAAE,IAAI;YAC/B,sBAAsB,EAAE,CAAC;YACzB,QAAQ,EAAE,CAAC;SACZ;IACH,CAAC;IAED,kEAAgB,GAAhB;QACE,IAAI,CAAC,WAAW,GAAG;YACjB,mBAAmB,EAAE,KAAK;YAC1B,cAAc,EAAE,IAAI;SACrB;IACH,CAAC;IAED,oEAAkB,GAAlB,UAAmB,IAAI;QACrB,IAAI,CAAC,eAAe,GAAG;YACrB,gBAAgB,EAAE,IAAI;YACtB,UAAU,EAAE,IAAI;SACjB;IACH,CAAC;IAED,mEAAiB,GAAjB;QACE,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC;IAC9B,CAAC;IAED,+DAAa,GAAb;QACE,IAAI,CAAC,eAAe,GAAG;YACrB,gBAAgB,EAAE,KAAK;YACvB,UAAU,EAAE,IAAI;SACjB;IACH,CAAC;IAED,8EAA4B,GAA5B,UAA6B,KAAK,EAAE,IAAI;QACtC,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,kBAAkB,GAAG;YACxB,oBAAoB,EAAE,IAAI;YAC1B,oBAAoB,EAAE,IAAI,IAAI,IAAI;YAClC,iBAAiB,EAAE,KAAK,IAAI,IAAI;SACjC;IACH,CAAC;IAED,6EAA2B,GAA3B;QACE,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC;IACjC,CAAC;IAGD,uEAAqB,GAArB,UAAsB,IAAI,EAAE,KAAK,EAAE,QAAQ;QACzC,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,uBAAuB,GAAG;YAC7B,yBAAyB,EAAE,IAAI;YAC/B,yBAAyB,EAAE,IAAI,IAAI,IAAI;YACvC,sBAAsB,EAAG,KAAK,IAAI,IAAI;YACtC,QAAQ,EAAG,QAAQ,IAAI,CAAC;SACzB;IACH,CAAC;IAED,sEAAoB,GAApB;QACE,MAAM,CAAC,IAAI,CAAC,uBAAuB,CAAC;IACtC,CAAC;IAKD,qEAAmB,GAAnB,UAAoB,GAAG;QACrB,IAAI,CAAC,WAAW,GAAG;YACjB,mBAAmB,EAAE,IAAI;YACzB,cAAc,EAAE,GAAG;SACpB;IACH,CAAC;IAED,oEAAkB,GAAlB;QACE,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC;IAC1B,CAAC;IAED,wEAAsB,GAAtB,UAAuB,GAAG;QACxB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;IAClC,CAAC;IAED,wEAAsB,GAAtB;QACE,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC;IAClC,CAAC;IAGD,mEAAiB,GAAjB;QACI,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC;IACtC,CAAC;IAED,qEAAmB,GAAnB;QACI,IAAI,CAAC,qBAAqB,GAAG;YACzB,MAAM,EAAE,KAAK;YACb,cAAc,EAAE,IAAI;SACvB;IACL,CAAC;IAED,mEAAiB,GAAjB,UAAkB,cAAc;QAC5B,IAAI,CAAC,qBAAqB,GAAG;YACzB,MAAM,EAAE,IAAI;YACZ,cAAc,EAAE,cAAc;SACjC;IACL,CAAC;IAKa,mDAAW,GAAzB;QACE,MAAM,CAAC,uCAAuC,CAAC,SAAS,CAAC;IAC3D,CAAC;IAJc,iDAAS,GAA4C,IAAI,uCAAuC,EAAE,CAAC;IAepH,8CAAC;CAAA;AA/KmD;;;;;;;;;;;;;;;;;;;;;;;;;ACHe;AACV;AAC4C;AAC/C;AAC+C;AAC5B;AAOzE;IAGE,iDAAmB,YAAiC,EAChC,WAAwB,EACzB,OAAsB;QAFtB,iBAAY,GAAZ,YAAY,CAAqB;QAChC,gBAAW,GAAX,WAAW,CAAa;QACzB,YAAO,GAAP,OAAO,CAAe;QAMzC,eAAU,GAAG;YACX,IAAI,EAAE,EAAE;YACR,SAAS,EAAE,EAAE;YACb,MAAM,EAAE,EAAE;SACX,CAAC;QATA,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAUD,2DAAS,GAAT;QAAA,iBASC;QARC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC9C,IAAI,EAAE,CAAC,EAAE,CAAC;YACV,SAAS,EAAE,CAAC,EAAE,CAAC;YACf,MAAM,EAAE,CAAC,EAAE,CAAC;SACb,CAAC,CAAC;QAEH,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,SAAS,CAAC,cAAI,IAAI,YAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAzB,CAAyB,CAAC,CAAC;QACjF,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,kEAAgB,GAAhB;QAEE,IAAI,WAAW,GAAG,2HAAuC,CAAC,WAAW,EAAE,CAAC,kBAAkB,EAAE,CAAC;QAE7F,EAAE,EAAC,WAAW,IAAI,WAAW,CAAC,mBAAmB,KAAK,IAAI,CAAC,CAAC,CAAC;YAC3D,EAAE,EAAC,sFAAK,CAAC,SAAS,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,sFAAK,CAAC,SAAS,CAAC,WAAW,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;gBACjG,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,EAAC,IAAI,EAAE,WAAW,CAAC,cAAc,CAAC,EAAE,GAAE,EAAE,EAAC,CAAC,CAAC;YAC/E,CAAC;YAED,EAAE,EAAC,sFAAK,CAAC,SAAS,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,sFAAK,CAAC,SAAS,CAAC,WAAW,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBACtG,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,EAAC,SAAS,EAAG,WAAW,CAAC,cAAc,CAAC,OAAO,GAAE,EAAE,EAAC,CAAC,CAAC;YAC1F,CAAC;YAED,EAAE,EAAC,sFAAK,CAAC,SAAS,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,sFAAK,CAAC,SAAS,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACnG,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,EAAC,MAAM,EAAG,WAAW,CAAC,cAAc,CAAC,IAAI,GAAG,EAAE,EAAC,CAAC,CAAC;YACrF,CAAC;QACH,CAAC;IAEH,CAAC;IAED,gEAAc,GAAd,UAAe,IAAU;QACvB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;YAC5B,MAAM,CAAC;QACT,CAAC;QACD,IAAM,IAAI,GAAG,IAAI,CAAC,iBAAiB,CAAC;QACpC,GAAG,CAAC,CAAC,IAAI,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACvC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;YACjC,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACnC,EAAE,CAAC,CAAC,OAAO,IAAI,OAAO,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;gBAC/C,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/E,CAAC;QACH,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACpB,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,eAAK,IAAI,YAAK,IAAI,KAAK,CAAC,aAAa,IAAI,KAAK,CAAC,aAAa,EAAE,EAArD,CAAqD,CAAC,CAAC;QAC1F,CAAC;IACH,CAAC;IAGD,oEAAkB,GAAlB;QACE,2HAAuC,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;QACxG,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;IACrB,CAAC;IApEwB;QAAxB,4EAAY,CAAC,gEAAS,CAAC;kCAAa,gEAAS;+EAAY;IAD/C,uCAAuC;QAJnD,wEAAS,CAAC;YACT,QAAQ,EAAE,8CAA8C;WACG;SAC5D,CAAC;gFAIoD;YACnB,oEAAW;YAChB,aAAa;OAL9B,uCAAuC,CAuEnD;IAAD,CAAC;AAAA;SAvEY,uCAAuC,mB","file":"67.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { OrderDiscountGiftCardAddPersonalMessage } from './orderDiscountGiftCardAddPersonalMessage';\n\n@NgModule({\n  declarations: [OrderDiscountGiftCardAddPersonalMessage],\n  imports: [IonicPageModule.forChild(OrderDiscountGiftCardAddPersonalMessage)],\n  exports: [OrderDiscountGiftCardAddPersonalMessage]\n})\nexport class OrderDiscountGiftCardAddPersonalMessageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/orderManagement/orderDiscountGiftCard/orderDiscountGiftCardAddPersonalMessage/orderDiscountGiftCardAddPersonalMessage.module.ts","import {BehaviorSubject} from \"rxjs/Rx\";\nimport {Utils} from \"../../framework/services/utilities/utilities\";\n\nexport class OrderDiscountGiftCardSharingDataService {\n\n  addressDelivery = {\n    addressIsUpdated: false,\n    newAddress: null\n  }\n\n    needUpdateOrderNumber = {\n        status: false,\n        newOrderNumber: null\n    }\n\n  selectGreetingCard = {\n    selectedGreetingCard: false,\n    greetingCardSelected: null,\n    greetingCardIndex: 0,\n  }\n\n  selectExtraGreetingCard = {\n    selectedExtraGreetingCard: false,\n    extraGreetingCardSelected: null,\n    extraGreetingCardIndex: 0,\n    quantity: 0,\n  }\n\n  isZeroQuantityExtra = false;\n\n\n  msgPersonal = {\n    haveMessagePersonal: false,\n    contentMessage: null,\n  }\n\n\n  resetData() {\n    this.addressDelivery = {\n      addressIsUpdated: false,\n      newAddress: null\n    }\n\n    this.resetFreeCardDesign();\n    this.resetExtraCardDesign();\n    this.resetmsgPersonal();\n\n  }\n\n  resetFreeCardDesign() {\n    this.selectGreetingCard = {\n      selectedGreetingCard: false,\n      greetingCardSelected: null,\n      greetingCardIndex: 0,\n    }\n\n  }\n\n  resetExtraCardDesign() {\n\n    this.selectExtraGreetingCard = {\n      selectedExtraGreetingCard: false,\n      extraGreetingCardSelected: null,\n      extraGreetingCardIndex: 0,\n      quantity: 0,\n    }\n  }\n\n  resetmsgPersonal() {\n    this.msgPersonal = {\n      haveMessagePersonal: false,\n      contentMessage: null\n    }\n  }\n\n  needUpdateDelivery(data) {\n    this.addressDelivery = {\n      addressIsUpdated: true,\n      newAddress: data\n    }\n  }\n\n  getUpdateDelivery() {\n    return this.addressDelivery;\n  }\n\n  resetDelivery() {\n    this.addressDelivery = {\n      addressIsUpdated: false,\n      newAddress: null\n    }\n  }\n\n  saveSelectedFreeGreetingCard(index, card) {\n    this.resetFreeCardDesign();\n    this.selectGreetingCard = {\n      selectedGreetingCard: true,\n      greetingCardSelected: card || null,\n      greetingCardIndex: index || null,\n    }\n  }\n\n  getSelectedFreeGreetingCard() {\n    return this.selectGreetingCard;\n  }\n\n\n  saveExtraGreetingCard(card, index, quantity) {\n    this.resetExtraCardDesign();\n    this.selectExtraGreetingCard = {\n      selectedExtraGreetingCard: true,\n      extraGreetingCardSelected: card || null,\n      extraGreetingCardIndex:  index || null,\n      quantity:  quantity || 0,\n    }\n  }\n\n  getExtraGreetingCard() {\n    return this.selectExtraGreetingCard;\n  }\n\n\n\n\n  saveMessagePersonal(msg) {\n    this.msgPersonal = {\n      haveMessagePersonal: true,\n      contentMessage: msg\n    }\n  }\n\n  getMessagePersonal() {\n    return this.msgPersonal;\n  }\n\n  setisZeroQuantityExtra(msg) {\n    this.isZeroQuantityExtra = true;\n  }\n\n  getIsZeroQuantityExtra() {\n    return this.isZeroQuantityExtra;\n  }\n\n\n  getNewOrderNumber() {\n      return this.needUpdateOrderNumber;\n  }\n\n  resetNewOrderNumber() {\n      this.needUpdateOrderNumber = {\n          status: false,\n          newOrderNumber: null\n      }\n  }\n\n  setNewOrderNumber(newOrderNumber) {\n      this.needUpdateOrderNumber = {\n          status: true,\n          newOrderNumber: newOrderNumber\n      }\n  }\n\n\n  private static _instance: OrderDiscountGiftCardSharingDataService = new OrderDiscountGiftCardSharingDataService();\n\n  public static getInstance(): OrderDiscountGiftCardSharingDataService {\n    return OrderDiscountGiftCardSharingDataService._instance;\n  }\n\n  constructor() {\n    if (OrderDiscountGiftCardSharingDataService._instance) {\n      throw new Error('Error: Instantiation failed: '\n        + 'Use YourCardDetailsSharingDataService.getInstance() instead of new.');\n    }\n\n    OrderDiscountGiftCardSharingDataService._instance = this;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/orderManagement/orderDiscountGiftCard/orderDiscountGiftCardSharingData.services.ts","import { Component, ViewChildren, QueryList } from '@angular/core';\nimport {NavController, IonicPage, TextInput} from 'ionic-angular';\nimport {RouteManagerService} from '../../../../framework/services/routeManager/routeManager.service';\nimport {FormBuilder, FormGroup} from \"@angular/forms\";\nimport {OrderDiscountGiftCardSharingDataService} from \"../orderDiscountGiftCardSharingData.services\";\nimport {Utils} from \"../../../../framework/services/utilities/utilities\";\n\n@IonicPage()\n@Component({\n  selector: 'page-orderDiscountGiftCardAddPersonalMessage',\n  templateUrl: 'orderDiscountGiftCardAddPersonalMessage.html'\n})\nexport class OrderDiscountGiftCardAddPersonalMessage {\n  @ViewChildren(TextInput) textInputs: QueryList<TextInput>;    \n  \n  constructor(public routeManager: RouteManagerService,\n              private formBuilder: FormBuilder,\n              public navCtrl: NavController) {\n    this.buildForm();\n  }\n\n\n  updatePersonalMsg: FormGroup;\n  formErrors = {\n    'to': '',\n    'message': '',\n    'from': '',\n  };\n\n  buildForm() {\n    this.updatePersonalMsg = this.formBuilder.group({\n      'to': [''],\n      'message': [''],\n      'from': [''],\n    });\n\n    this.updatePersonalMsg.valueChanges.subscribe(data => this.onValueChanges(data));\n    this.onValueChanges();\n  }\n\n  ionViewWillEnter() {\n\n    let msgPersonal = OrderDiscountGiftCardSharingDataService.getInstance().getMessagePersonal();\n\n    if(msgPersonal && msgPersonal.haveMessagePersonal === true) {\n      if(Utils.isNotNull(msgPersonal.contentMessage) && Utils.isNotNull(msgPersonal.contentMessage.to)) {\n        this.updatePersonalMsg.patchValue({'to': msgPersonal.contentMessage.to +''});\n      }\n\n      if(Utils.isNotNull(msgPersonal.contentMessage) && Utils.isNotNull(msgPersonal.contentMessage.message)) {\n        this.updatePersonalMsg.patchValue({'message':  msgPersonal.contentMessage.message +''});\n      }\n\n      if(Utils.isNotNull(msgPersonal.contentMessage) && Utils.isNotNull(msgPersonal.contentMessage.from)) {\n        this.updatePersonalMsg.patchValue({'from':  msgPersonal.contentMessage.from + ''});\n      }\n    }\n\n  }\n\n  onValueChanges(data?: any) {\n    if (!this.updatePersonalMsg) {\n      return;\n    }\n    const form = this.updatePersonalMsg;\n    for (let fieldError in this.formErrors) {\n      this.formErrors[fieldError] = '';\n      let control = form.get(fieldError);\n      if (control && control.dirty && !control.valid) {\n        this.formErrors[fieldError] = control.errors[Object.keys(control.errors)[0]];\n      }\n    }\n    if (this.textInputs) {\n      this.textInputs.forEach(input => input && input._inputUpdated && input._inputUpdated());\n    }\n  }\n\n\n  addPersonalMessage() {\n    OrderDiscountGiftCardSharingDataService.getInstance().saveMessagePersonal(this.updatePersonalMsg.value);\n    this.navCtrl.pop();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/orderManagement/orderDiscountGiftCard/orderDiscountGiftCardAddPersonalMessage/orderDiscountGiftCardAddPersonalMessage.ts"],"sourceRoot":""}