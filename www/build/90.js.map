{"version":3,"sources":["../../src/spa/+screens/benefits/exchange/masterCardInfo/masterCardInfo.module.ts","../../src/spa/+screens/benefits/exchange/masterCardInfo/masterCardInfo.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACM;AAOtD;IAAA;IAAwC,CAAC;IAA5B,wBAAwB;QALpC,uEAAQ,CAAC;YACR,YAAY,EAAE,CAAC,2EAAkB,CAAC;YAClC,OAAO,EAAE,CAAC,sEAAe,CAAC,QAAQ,CAAC,2EAAkB,CAAC,CAAC;YACvD,OAAO,EAAE,CAAC,2EAAkB,CAAC;SAC9B,CAAC;OACW,wBAAwB,CAAI;IAAD,+BAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;ACTG;AACiB;AAC4C;AACpC;AAOjE;IAWE,4BAAmB,YAAiC,EACjC,OAAsB,EACtB,SAAoB;QAFpB,iBAAY,GAAZ,YAAY,CAAqB;QACjC,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;IACvC,CAAC;IAED,6CAAgB,GAAhB;QACE,IAAI,CAAC,eAAe,GAAG,uEAAG,CAAC,aAAa,CAAC,WAAW,CAAC,eAAe,CAAC;QACrE,IAAI,CAAC,gBAAgB,GAAG,uEAAG,CAAC,aAAa,CAAC,cAAc,CAAC,mBAAmB,CAAC;QAC7E,IAAI,CAAC,wBAAwB,GAAG,uEAAG,CAAC,aAAa,CAAC,cAAc,CAAC,2BAA2B,CAAC;QAC7F,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,oCAAoC,EAAE,KAAK,KAAK,CAAC,CAAC,CAAC;YACvE,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBAC/B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBACvC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YAClE,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBACnC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACjD,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC,CAAC,CAAC;gBACjD,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;YAC7E,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBACtC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YACvD,CAAC;YAGD,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC9B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnD,CAAC;QACH,CAAC;IACH,CAAC;IAED,kCAAK,GAAL;QACE,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;IACrB,CAAC;IAED,4CAAe,GAAf;IACA,CAAC;IAEO,6CAAgB,GAAxB,UAAyB,OAAO;QAC9B,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACZ,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,UAAU,EAAE,mCAAmC,CAAC;iBACvE,OAAO,CAAC,WAAW,EAAE,oCAAoC,CAAC,CAAC;QAChE,CAAC;QACD,MAAM,CAAC,OAAO,CAAC;IACjB,CAAC;IAED,6CAAgB,GAAhB;QAAA,iBAeC;QAdC,IAAM,OAAO,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC;QACrG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC7B,IAAM,gBAAgB,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC,KAAK,CAAE;QAEzD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,wBAAwB,EAAE;YAC1C,UAAU,EAAE,OAAO;YACnB,sBAAsB,EAAE,IAAI,CAAC,sBAAsB;YACnD,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,MAAM,EAAE,IAAI,CAAC,MAAM;SACpB,CAAC,CAAC,IAAI,CAAC;YACJ,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,EAAE,EAAC,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,CAAC,EAAC,CAAC,CAAC,IAAI,CAAC;YAC7E,CAAC,CAAC,CAAC;QACL,CAAC,CACF,CAAC;IACJ,CAAC;IAED,yCAAY,GAAZ,UAAa,UAAU;QACrB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,WAAW,GAAG,UAAU,CAAC,gBAAgB,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;QACtE,EAAE,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACrB,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC,gBAAgB,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QAC3H,CAAC;IACH,CAAC;IAED,oCAAO,GAAP;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC;IAC9B,CAAC;IAvFU,kBAAkB;QAJ9B,wEAAS,CAAC;YACT,QAAQ,EAAE,qBAAqB;WACG;SACnC,CAAC;iFAYoD;YACxB,kEAAa;YACX,SAAS;OAb5B,kBAAkB,CAyF9B;IAAD,CAAC;AAAA;SAzFY,kBAAkB,e","file":"90.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MasterCardInfoPage } from './masterCardInfo';\n\n@NgModule({\n  declarations: [MasterCardInfoPage],\n  imports: [IonicPageModule.forChild(MasterCardInfoPage)],\n  exports: [MasterCardInfoPage]\n})\nexport class MasterCardInfoPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/benefits/exchange/masterCardInfo/masterCardInfo.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, NavController, NavParams} from 'ionic-angular';\nimport {RouteManagerService} from \"../../../../framework/services/routeManager/routeManager.service\";\nimport {AppConfig as app} from \"../../../../framework/appConfig\";\n\n@IonicPage()\n@Component({\n  selector: 'page-masterCardInfo',\n  templateUrl: 'masterCardInfo.html'\n})\nexport class MasterCardInfoPage {\n  content: any;\n  card: any;\n  baseResourceUrl;\n  urlKeyMastercard;\n  urlKeyAnywhereMastercard;\n  feeMsg;\n  products: any;\n  indexOfTypeCard;\n  primaryCard;\n  masterCardTypeSelected;\n  constructor(public routeManager: RouteManagerService,\n              public navCtrl: NavController,\n              public navParams: NavParams,) {\n  }\n\n  ionViewWillEnter() {\n    this.baseResourceUrl = app.Configuration.HttpService.baseResourceUrl;\n    this.urlKeyMastercard = app.Configuration.masterCardInfo.urlSelectMasterCard;\n    this.urlKeyAnywhereMastercard = app.Configuration.masterCardInfo.urlSelectAnyWhereMasterCard;\n    if (this.routeManager.ifNotLoggedInThenGoBackToLoginScreen() === false) {\n      if (this.navParams.get('card')) {\n        this.card = this.navParams.get('card');\n        this.content = this._validContentUrl(this.card.longDescription);\n      }\n\n      if (this.navParams.get('products')) {\n        this.products = this.navParams.get('products');\n      }\n\n      if (this.navParams.get('masterCardTypeSelected')) {\n        this.masterCardTypeSelected = this.navParams.get('masterCardTypeSelected');\n      }\n\n      if (this.navParams.get('primaryCard')) {\n        this.primaryCard = this.navParams.get('primaryCard');\n      }\n\n\n      if (this.navParams.get('idx')) {\n        this.indexOfTypeCard = this.navParams.get('idx');\n      }\n    }\n  }\n\n  close() {\n    this.navCtrl.pop();\n  }\n\n  ionViewDidLeave() {\n  }\n\n  private _validContentUrl(content) {\n    if (content) {\n      content = content.replace(/src=\"\\//g, 'src=\"https://www.love2shop.co.uk/')\n        .replace(/href=\"\\//g, 'href=\"https://www.love2shop.co.uk/');\n    }\n    return content;\n  }\n\n  showCardExchange() {\n    const product = (this.card && Array.isArray(this.card.products)) ? this.card.products[0] : this.card;\n    this.extracMsgFee(this.card);\n    const indexCardInStack = this.navCtrl.getActive().index ;\n\n    this.navCtrl.push(\"MasterCardExchangePage\", {\n      targetCard: product,\n      masterCardTypeSelected: this.masterCardTypeSelected,\n      primaryCard: this.primaryCard,\n      feeMsg: this.feeMsg\n    }).then(() => {\n        this.navCtrl.remove(indexCardInStack, 1, {animate: false, duration: 0}).then(() => {\n        });\n      }\n    );\n  }\n\n  extracMsgFee(contentMsg) {\n    this.feeMsg = '';\n    let indexString = contentMsg.shortDescription.indexOf('Please Note:');\n    if (indexString > -1) {\n      this.feeMsg = contentMsg.shortDescription.substr(indexString).replace(/<[^>]*>/g, \"\").replace(\"Please Note:\", \"\").trim();\n    }\n  }\n\n  gotoFAQ() {\n    this.navCtrl.push('FAQPage')\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/benefits/exchange/masterCardInfo/masterCardInfo.ts"],"sourceRoot":""}