{"version":3,"sources":["../../src/spa/+screens/benefits/exchange/exchange.module.ts","../../src/spa/+screens/benefits/benefitsData.service.ts","../../src/spa/+screens/benefits/benefits.service.ts","../../src/spa/+screens/benefits/exchange/exchange.ts"],"names":[],"mappings":"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","file":"53.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ExchangePage } from './exchange';\n\n@NgModule({\n  declarations: [ExchangePage],\n  imports: [IonicPageModule.forChild(ExchangePage)],\n  exports: [ExchangePage]\n})\nexport class ExchangePageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/benefits/exchange/exchange.module.ts","export class BenefitsDataService {\r\n    static _instance: BenefitsDataService;\r\n\r\n    static getInstance(): BenefitsDataService {\r\n        if (!this._instance) {\r\n            this._instance = this.createInstance();\r\n        }\r\n        return this._instance;\r\n    }\r\n\r\n    static createInstance(): BenefitsDataService {\r\n        return new BenefitsDataService();\r\n    }\r\n\r\n    private _currentCardNumber: string;\r\n    ignoreCheckBenefits: boolean;\r\n\r\n    constructor() {\r\n        this.currentCardNumber = null;\r\n    }\r\n\r\n    get currentCardNumber(): string {\r\n        return this._currentCardNumber;\r\n    }\r\n\r\n    set currentCardNumber(value: string) {\r\n        this._currentCardNumber = value;\r\n    }\r\n\r\n    private _needBackToExchange = {\r\n        needBackToExchange: false,\r\n        currentIndex: null,\r\n    };\r\n\r\n    setNeedBackToExchange(status, index) {\r\n        this._needBackToExchange.needBackToExchange = status;\r\n        this._needBackToExchange.currentIndex = index;\r\n    }\r\n\r\n    getNeedBackToExchange() {\r\n        return this._needBackToExchange;\r\n    }\r\n\r\n    resetNeedBackToExchange() {\r\n        this._needBackToExchange = {\r\n            needBackToExchange: false,\r\n            currentIndex: null,\r\n        };\r\n    }\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/benefits/benefitsData.service.ts","import { CardOfferRequestBody } from './benefits.service';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { AppConfig } from \"../../framework/appConfig\";\nimport { HttpService } from \"../../framework/services/httpService/http.service\";\n\ntype CatalogueType = 'P' | 'S' | 'F';\n\nconst PRODUCT: CatalogueType = 'P';\nconst PERSONALISATION: CatalogueType = 'S';\nconst FULFILMENT: CatalogueType = 'F';\n\nexport const CatalogueTypes = {\n  PRODUCT,\n  PERSONALISATION,\n  FULFILMENT\n}\n\nexport interface RequestRetrieveCatalogue {\n  propositionId?: string;\n  scheme?: string;\n  series?: string;\n  productCode?: string;\n  catalogueType: CatalogueType;\n  url?: string;\n}\n\nexport interface CardOfferRequestBody {\n  propositionId: string;\n  scheme: string;\n  series: string;\n  productCode: string;\n}\n\nexport const MAP_BENEFIT_EXCHANGE_PAGE = {\n  'exchange to spend online': 'Exchang4SpendOnlinePage',\n  'exchange for e-codes': 'Exchange4ECodePage',\n  'exchange for dining e-codes': 'Exchange4DiningECodePage',\n  'exchange for other gift cards': 'Exchange4OtherGiftCardsPage',\n  'holidays': 'HolidaysPage',\n};\nexport const MAP_BENEFIT_BUY_PAGE = {\n  'discounted gift cards': 'BuyDiscountedGiftCardPage',\n  'discounted supermarket cards': 'BuyDiscountedSupperGiftCardPage',\n  'default': 'BuySpecSaversPage'\n};\n\nexport const MAP_BENEFIT_PAGE = {\n  ...MAP_BENEFIT_BUY_PAGE,\n  ...MAP_BENEFIT_EXCHANGE_PAGE\n};\n\n@Injectable()\nexport class BenefitsService {\n\n  constructor(\n    private http: HttpService\n  ) {\n  }\n\n  getRetrieveCardsInfo(): Observable<any> {\n    return this.http.get(`card`);\n  }\n\n  getGenericsOffers() {\n    return this.http.post(`card/offers`, {});\n  }\n\n  getOffersByCard(body: CardOfferRequestBody, backgroud?: boolean): Observable<any> {\n    if (backgroud) {\n      return this.http.postInBackground(`card/offers`, body);\n    } else {\n      return this.http.post(`card/offers`, body);\n    }\n  }\n\n  getSpecialOffers(): Observable<any> {\n    return this.http.post(`card/offers`, {});\n  }\n\n  buildCatalogueRequestFromCard(card: any, url: string, catalogueType: CatalogueType = PRODUCT): RequestRetrieveCatalogue {\n    const req: RequestRetrieveCatalogue = {\n      propositionId: card.propositionId,\n      productCode: card.productCode,\n      series: card.series,\n      scheme: card.scheme,\n      url: url,\n      catalogueType: catalogueType\n    };\n    return req;\n  }\n\n  getRetrieveCatalogue(body: RequestRetrieveCatalogue): Observable<any> {\n    return this.http.post(`card/catalogue`, body);\n  }\n\n  getContentFromRetreiveContent(code): Observable<any> {\n    return this.http.get('cms/message/code=' + code);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/benefits/benefits.service.ts","import { Subscription } from 'rxjs/Subscription';\nimport { Observable } from 'rxjs/Rx';\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\nimport { CardOfferRequestBody, MAP_BENEFIT_EXCHANGE_PAGE } from './../benefits.service';\nimport { Component, ViewChild } from '@angular/core';\nimport { IonicPage, Slides, NavController, App, NavParams, AlertController } from 'ionic-angular';\nimport { BenefitsService, RequestRetrieveCatalogue } from \"../benefits.service\";\nimport { RouteManagerService } from \"../../../framework/services/routeManager/routeManager.service\";\nimport { MyShoppingBasketSharingDataService } from \"../../myShoppingBasket/myShoppingBasketSharingData.services\";\nimport { LoadingIndicatorService } from \"../../../framework/services/loadingIndicatorService/loadingIndicator.service\";\nimport { BenefitsDataService } from \"../benefitsData.service\";\nimport $ from 'jquery';\nimport { AppConfig as app } from \"../../../framework/appConfig\";\nimport {Utils} from \"../../../framework/services/utilities/utilities\";\nimport {YourCardDetailsSharingDataService} from \"../../CardManagement/cardDetails/yourCardDetails/yourCardDetailsSharingData.services\";\n\ninterface CataloguesResponsePayload {\n  card?: any;\n  benefit?: any;\n  catalogues?: any;\n}\n\n@IonicPage()\n@Component({\n  selector: 'page-exchange',\n  templateUrl: 'exchange.html',\n  providers: [\n    BenefitsService,\n    InAppBrowser\n  ]\n})\nexport class ExchangePage {\n  disableBuyTab: boolean;\n  slideDirection: number;\n  lastIndex: number;\n  categoryName = 'Exchange';\n  baseImgUrl;\n  baseResourceUrl;\n  @ViewChild(Slides) slidesCard: Slides;\n\n  showLoading: boolean = false;\n  defaultCardNumber: string;\n  atLeastOneCardMSG: string;\n  currentCard: any;\n  currentCardNumber: string;\n\n  listCards: any = [];\n  listOffers: any = [];\n\n  productsOnBasket = 0;\n  private _getCardDataSub: Subscription;\n  private _getOfferSub: Subscription;\n\n  constructor(private benefitsService: BenefitsService,\n    public routeManager: RouteManagerService,\n    public alertCtrl: AlertController,\n    public navParams: NavParams,\n    public navCtrl: NavController,\n    private iab: InAppBrowser) {\n    this.baseImgUrl = app.Configuration.HttpService.baseResourceUrl;\n    this.baseResourceUrl = app.Configuration.HttpService.baseResourceUrl;\n  }\n\n  getCardsData() {\n    let cards = YourCardDetailsSharingDataService.getInstance().getCardsList();\n    if (!cards || cards.length <= 0) {\n      this.gotoAddCard();\n      return;\n    }\n\n    cards = this._filterShowCardList(cards);\n    if (!cards || cards.length <= 0) {\n      this.disableBuyTab = true;\n      this.alertNoBenefit();\n      return;\n    }\n\n    this.listCards = cards.map((card) => {\n      card.last4DigitCardNumber = this._get4LastDigitsCardNumber(card);\n      card.schemeNumber = card.scheme;\n      return card;\n    });\n\n    this.lastIndex = this.listCards.length - 1;\n    this.selectDefaultCard();\n    this.updateOfferList();\n  }\n\n  selectDefaultCard() {\n    if (!Array.isArray(this.listCards)) {\n      this.currentCard = 0;\n      return;\n    }\n\n    let cardInforActive = YourCardDetailsSharingDataService.getInstance().getCardInforActive;\n    if(Utils.isNotNull(cardInforActive)) {\n      if (Utils.isNotNull(cardInforActive) && Array.isArray(this.listCards)) {\n        let cardIndex;\n        let breakCheckIndex = false;\n        if (Utils.isNotNull(cardInforActive.cardID) && cardInforActive.cardID !== '') {\n          if (cardInforActive.cardID.indexOf('-') > 0) {\n            cardIndex = this.listCards.findIndex(x => x.cardId === cardInforActive.cardID);\n          } else {\n            for (let i = 0; i < this.listCards.length; i++) {\n              if (this.listCards[i].cardId && this.listCards[i].cardId.indexOf('-') > 0) {\n                if (this.listCards[i].cardId.replace(/-/g, \"\") === cardInforActive.cardID) {\n                  cardIndex = i;\n                }\n              } else if (this.listCards[i].cardId === cardInforActive.cardID) {\n                cardIndex = i;\n              }\n            }\n          }\n          breakCheckIndex = true;\n        }\n        if (Utils.isNotNull(cardInforActive.cardNumber) && breakCheckIndex !== true && cardInforActive.cardNumber !== '') {\n          cardIndex = this.listCards.findIndex(x => x.cardNumber === cardInforActive.cardNumber);\n        }\n\n        if (Utils.isNotNull(cardIndex) && cardIndex !== -1) {\n          this.currentCard = cardIndex;\n          if (this.slidesCard) {\n            this.slidesCard.update();\n          }\n          if (Utils.isNotNull(this.slidesCard)) {\n            setTimeout(() =>\n              this.slidesCard && this.slidesCard.slideTo(this.currentCard, 0), 200\n            )\n          }\n\n        } else {\n          const currentIndex = 0;\n          this.currentCard = 0;\n          let card = {\n            cardNumber: this.listCards[currentIndex].cardNumber,\n            cardID: this.listCards[currentIndex].cardId,\n          };\n          if (Utils.isNotNull(this.slidesCard)) {\n            this.slidesCard.slideTo(0, 0);\n          }\n\n          YourCardDetailsSharingDataService.getInstance().saveCardInforActive = card;\n        }\n      }\n    } else {\n      if (Utils.isNotNull(this.slidesCard) ) {\n        const currentIndex = 0;\n        this.currentCard = 0;\n        let card = {\n          cardNumber: this.listCards[currentIndex].cardNumber,\n          cardID: this.listCards[currentIndex].cardId,\n        };\n\n        this.slidesCard.slideTo(0, 0);\n        YourCardDetailsSharingDataService.getInstance().saveCardInforActive = card;\n      }\n    }\n  }\n\n  onSlideDidChange(event) {\n    const currentIndex = this.slidesCard.getActiveIndex();\n    if (currentIndex >= 0 && currentIndex < this.listCards.length) {\n      this.slideDirection = (this.currentCard <= currentIndex) ? 1 : -1;\n      this.currentCard = currentIndex;\n      this.currentCardNumber = this.listCards[currentIndex].cardNumber;\n\n      let card = {\n        cardNumber: this.listCards[currentIndex].cardNumber,\n        cardID: this.listCards[currentIndex].cardId,\n      }\n\n      YourCardDetailsSharingDataService.getInstance().saveCardInforActive = card;\n      YourCardDetailsSharingDataService.getInstance().saveCardCurrent = card;\n      BenefitsDataService.getInstance().currentCardNumber = this.currentCardNumber;\n      this.updateOfferList();\n    }\n  }\n\n  slideTo(index) {\n\n    this.slidesCard.slideTo(index);\n  }\n\n  gotoAddCard() {\n    this.navCtrl.push('AddCardNumberPage');\n  }\n\n  updateOfferList() {\n    if (this._getOfferSub) {\n      this._getOfferSub.unsubscribe();\n    }\n    this.listOffers = [];\n    const card = this.listCards[this.currentCard];\n    const body = this._buildCardRequest(card);\n    this.showLoading = true;\n    this.benefitsService.getOffersByCard(body).subscribe(res => {\n      if (!res.ok) {\n        return;\n      }\n      const cats = res.response.categories;\n      const offfers = this._filterOffersList(cats);\n      const otherOffers = this._filterOffersList(cats, 'buy');\n\n      if (offfers && offfers.length > 0) {\n        this.listOffers = offfers.map(this._buildOffer.bind(this));\n      }\n\n      if (!otherOffers || otherOffers.length <= 0) {\n        this.disableBuyTab = true;\n      } else {\n        this.disableBuyTab = false;\n      }\n    }, (error) => {\n      this.showLoading = false;\n    }, () => {\n      this.showLoading = false;\n    });\n  }\n\n  onBenefitClick(benefit) {\n    const card = this.listCards[this.currentCard];\n    const key = benefit.name.toLowerCase();\n    const screenTarget = MAP_BENEFIT_EXCHANGE_PAGE[key];\n    if (screenTarget) {\n      const urlKey = benefit.url;\n      LoadingIndicatorService.getInstance().showLoadingIndicator();\n      const catalogueReq: RequestRetrieveCatalogue = this.benefitsService.buildCatalogueRequestFromCard(card, urlKey);\n      this.benefitsService.getRetrieveCatalogue(catalogueReq).subscribe(res => {\n        if (res && res.response && res.response.catalogues) {\n          if (!res || !res.response || !Array.isArray(res.response.catalogues) || res.response.catalogues.length <= 0) {\n            return;\n          }\n          const catalogues = res.response.catalogues;\n          this.navCtrl.push(screenTarget, { card, benefit, catalogues, 'cardIndex': this.currentCard  });\n        } else {\n        }\n      }, (error) => {\n        LoadingIndicatorService.getInstance().hideLoadingIndicator();\n      },\n        () => {\n          LoadingIndicatorService.getInstance().hideLoadingIndicator();\n        });\n    } else {\n      if (!benefit || !benefit.url) {\n        return;\n      }\n      const browser = this.iab.create(''  + benefit.url, \"_system\", \"location=true\");\n    }\n  }\n\n  goCardDetails() {\n    this.navCtrl.push(\"YourCardDetailsPage\", { 'cardNumber': this.currentCardNumber });\n  }\n\n  gotoBuyPage() {\n    this.navCtrl.setRoot('BuyPage', { 'cardNumber': this.currentCardNumber }).then(() => {\n    });\n  }\n\n  ionViewWillEnter() {\n    this.getContentHardCode();\n  }\n\n  ionViewDidEnter() {\n    if (this.routeManager.ifNotLoggedInThenGoBackToLoginScreen() === false) {\n        $('.app-root').removeClass('not-show-tab');\n      this.showLoading = false;\n      this.slideDirection = 1;\n      this.listCards = [];\n      this.listOffers = [];\n      this.getCardsData();\n    }\n\n    this.calculateProductOnbasket();\n  }\n\n  calculateProductOnbasket() {\n    this.productsOnBasket = 0;\n    let dataBasket = MyShoppingBasketSharingDataService.getInstance().getDataBasket();\n\n    for (let i = 0; i < (<any>dataBasket).productsOnBasket.length; i++) {\n      this.productsOnBasket += parseInt(dataBasket.productsOnBasket[i].quantity);\n    }\n  }\n\n  ionViewDidLeave() {\n    this._unsubscribe();\n  }\n\n  _get4LastDigitsCardNumber(card) {\n    if (!card.cardId) {\n      return null;\n    }\n    let cardId = card.cardNumber;\n    if (card.cardType === 'FLEXECODE_2.0' && cardId.indexOf('-') > 0) {\n      cardId = cardId.replace(/-/g, \"\");\n    }\n    return cardId.substr(cardId.length - 4);\n  }\n\n  private _checkNocardHasBenefit() {\n    const requests = this.listCards\n      .map((card) => this._buildCardRequest(card))\n      .map((body) => this.benefitsService.getOffersByCard(body))\n      .map(request => request.do((res) => {\n        const cats = res.response.categories;\n        const buyOffers = this._filterOffersList(cats, 'buy');\n        const exhangeOffers = this._filterOffersList(cats, 'exchange');\n        if (buyOffers && exhangeOffers && buyOffers.length + exhangeOffers.length !== 0) {\n          throw new Error(this.atLeastOneCardMSG);\n        }\n      }));\n\n    const noCardHasBenefit$ = Observable.forkJoin(...requests);\n    noCardHasBenefit$.subscribe(() => {\n      this.alertNoBenefit();\n    }, (error) => { });\n  }\n\n  public getContentHardCode() {\n    const observer = {\n      next: (res) => {\n        if (Utils.isNotNull(res[0]) && Utils.isNotNull(res[0].response) && Utils.isNotNull(res[0].response.message)) {\n          this.atLeastOneCardMSG = res[0].response.message;\n        }\n\n        if (Utils.isNotNull(res[1]) && Utils.isNotNull(res[1].response) && Utils.isNotNull(res[1].response.message)) {\n          app.Configuration.ContentMessage.enter_csc = res[1].response.message;\n\n        }\n\n        if (Utils.isNotNull(res[2]) && Utils.isNotNull(res[2].response) && Utils.isNotNull(res[2].response.message)) {\n          app.Configuration.ContentMessage.ecodes_mailed_to = res[2].response.message;\n        }\n\n\n        if (Utils.isNotNull(res[3]) && Utils.isNotNull(res[3].response) && Utils.isNotNull(res[3].response.message)) {\n          app.Configuration.ContentMessage.add_card_important_card_info = res[3].response.message;\n        }\n      },\n      error: (error) => {\n      },\n      complete: () => {\n      }\n    };\n    Observable.combineLatest(\n      this.benefitsService.getContentFromRetreiveContent(\"at-least-one-card\"),\n      this.benefitsService.getContentFromRetreiveContent(\"enter-csc\"),\n      this.benefitsService.getContentFromRetreiveContent(\"ecodes-mailed-to\"),\n      this.benefitsService.getContentFromRetreiveContent(\"add-card.important-card-info\"),\n    ).subscribe(observer)\n  }\n\n  alertNoBenefit() {\n    let alert = this.alertCtrl.create({\n      title: '',\n      message: 'There are no benefits available.',\n      cssClass: 'l2s-alert--default l2s-alert--flat  l2s-alert--centered',\n      buttons: [{\n        text: 'Ok',\n        handler: data => { }\n      },{\n        text: '',\n        cssClass: 'close-button icon icon-ios ion-ios-close',\n        handler: data => {\n        }\n      }]\n    });\n\n    alert.present();\n  }\n\n  private _unsubscribe() {\n    if (this._getCardDataSub) {\n      this._getCardDataSub.unsubscribe();\n    }\n    if (this._getOfferSub) {\n      this._getOfferSub.unsubscribe();\n    }\n  }\n\n  private _getCardOffers(): Observable<any> {\n    return this.benefitsService.getGenericsOffers()\n  }\n\n  private _buildCardRequest(card: any) {\n    const body: CardOfferRequestBody = {\n      propositionId: card.propositionId,\n      productCode: card.productCode,\n      scheme: card.scheme,\n      series: card.series\n    };\n    return body;\n  }\n\n  private _filterShowCardList(cards: any) {\n    if (!Array.isArray(cards)) {\n      return [];\n    }\n    return cards.filter((card) => card.showBenefits == true);\n  }\n\n  private _buildOffer(offer: any) {\n    offer.image = this._selectOfferImage(offer);\n    return offer;\n  }\n\n  private _filterOffersList(offers: any, category?: string) {\n    if (!category) {\n      category = this.categoryName.toLocaleLowerCase();\n    }\n    if (offers && Array.isArray(offers)) {\n      const cat = offers.find((offer) =>\n        (offer.name.toLowerCase() == category));\n      if (cat && Array.isArray(cat.subCategories)) {\n        return cat.subCategories;\n      }\n    }\n\n    return [];\n  }\n\n  private _selectOfferImage(offer: any) {\n    return offer.images && Array.isArray(offer.images) && offer.images[0];\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/benefits/exchange/exchange.ts"],"sourceRoot":""}