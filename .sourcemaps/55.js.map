{"version":3,"sources":["../../src/spa/+screens/CardManagement/cardDetails/makeTopUp3DS/makeTopUp3DS.module.ts","../../src/spa/+screens/orderManagement/orderDiscountGiftCard/orderDiscountGiftCardSharingData.services.ts","../../src/spa/+screens/CardManagement/cardDetails/makeTopUp3DS/makeTopUp3DS.ts","../../src/spa/+screens/CardManagement/cardDetails/makeTopUp3DS/makeTopUp3DS.service.ts"],"names":[],"mappings":"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","file":"55.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport {MakeTopUp3DSPage} from \"./makeTopUp3DS\";\n\n@NgModule({\n  declarations: [\n    MakeTopUp3DSPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MakeTopUp3DSPage),\n  ],\n  exports: [\n    MakeTopUp3DSPage\n  ]\n})\nexport class MakeTopUptPage3DSModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/CardManagement/cardDetails/makeTopUp3DS/makeTopUp3DS.module.ts","import {BehaviorSubject} from \"rxjs/Rx\";\nimport {Utils} from \"../../framework/services/utilities/utilities\";\n\nexport class OrderDiscountGiftCardSharingDataService {\n\n  addressDelivery = {\n    addressIsUpdated: false,\n    newAddress: null\n  }\n\n    needUpdateOrderNumber = {\n        status: false,\n        newOrderNumber: null\n    }\n\n  selectGreetingCard = {\n    selectedGreetingCard: false,\n    greetingCardSelected: null,\n    greetingCardIndex: 0,\n  }\n\n  selectExtraGreetingCard = {\n    selectedExtraGreetingCard: false,\n    extraGreetingCardSelected: null,\n    extraGreetingCardIndex: 0,\n    quantity: 0,\n  }\n\n  isZeroQuantityExtra = false;\n\n\n  msgPersonal = {\n    haveMessagePersonal: false,\n    contentMessage: null,\n  }\n\n\n  resetData() {\n    this.addressDelivery = {\n      addressIsUpdated: false,\n      newAddress: null\n    }\n\n    this.resetFreeCardDesign();\n    this.resetExtraCardDesign();\n    this.resetmsgPersonal();\n\n  }\n\n  resetFreeCardDesign() {\n    this.selectGreetingCard = {\n      selectedGreetingCard: false,\n      greetingCardSelected: null,\n      greetingCardIndex: 0,\n    }\n\n  }\n\n  resetExtraCardDesign() {\n\n    this.selectExtraGreetingCard = {\n      selectedExtraGreetingCard: false,\n      extraGreetingCardSelected: null,\n      extraGreetingCardIndex: 0,\n      quantity: 0,\n    }\n  }\n\n  resetmsgPersonal() {\n    this.msgPersonal = {\n      haveMessagePersonal: false,\n      contentMessage: null\n    }\n  }\n\n  needUpdateDelivery(data) {\n    this.addressDelivery = {\n      addressIsUpdated: true,\n      newAddress: data\n    }\n  }\n\n  getUpdateDelivery() {\n    return this.addressDelivery;\n  }\n\n  resetDelivery() {\n    this.addressDelivery = {\n      addressIsUpdated: false,\n      newAddress: null\n    }\n  }\n\n  saveSelectedFreeGreetingCard(index, card) {\n    this.resetFreeCardDesign();\n    this.selectGreetingCard = {\n      selectedGreetingCard: true,\n      greetingCardSelected: card || null,\n      greetingCardIndex: index || null,\n    }\n  }\n\n  getSelectedFreeGreetingCard() {\n    return this.selectGreetingCard;\n  }\n\n\n  saveExtraGreetingCard(card, index, quantity) {\n    this.resetExtraCardDesign();\n    this.selectExtraGreetingCard = {\n      selectedExtraGreetingCard: true,\n      extraGreetingCardSelected: card || null,\n      extraGreetingCardIndex:  index || null,\n      quantity:  quantity || 0,\n    }\n  }\n\n  getExtraGreetingCard() {\n    return this.selectExtraGreetingCard;\n  }\n\n\n\n\n  saveMessagePersonal(msg) {\n    this.msgPersonal = {\n      haveMessagePersonal: true,\n      contentMessage: msg\n    }\n  }\n\n  getMessagePersonal() {\n    return this.msgPersonal;\n  }\n\n  setisZeroQuantityExtra(msg) {\n    this.isZeroQuantityExtra = true;\n  }\n\n  getIsZeroQuantityExtra() {\n    return this.isZeroQuantityExtra;\n  }\n\n\n  getNewOrderNumber() {\n      return this.needUpdateOrderNumber;\n  }\n\n  resetNewOrderNumber() {\n      this.needUpdateOrderNumber = {\n          status: false,\n          newOrderNumber: null\n      }\n  }\n\n  setNewOrderNumber(newOrderNumber) {\n      this.needUpdateOrderNumber = {\n          status: true,\n          newOrderNumber: newOrderNumber\n      }\n  }\n\n\n  private static _instance: OrderDiscountGiftCardSharingDataService = new OrderDiscountGiftCardSharingDataService();\n\n  public static getInstance(): OrderDiscountGiftCardSharingDataService {\n    return OrderDiscountGiftCardSharingDataService._instance;\n  }\n\n  constructor() {\n    if (OrderDiscountGiftCardSharingDataService._instance) {\n      throw new Error('Error: Instantiation failed: '\n        + 'Use YourCardDetailsSharingDataService.getInstance() instead of new.');\n    }\n\n    OrderDiscountGiftCardSharingDataService._instance = this;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/orderManagement/orderDiscountGiftCard/orderDiscountGiftCardSharingData.services.ts","import {Component} from '@angular/core';\nimport {AlertController, IonicPage, NavController, NavParams} from 'ionic-angular';\nimport {RouteManagerService} from \"../../../../framework/services/routeManager/routeManager.service\";\nimport {Utils} from \"../../../../framework/services/utilities/utilities\";\nimport {LoadingIndicatorService} from \"../../../../framework/services/loadingIndicatorService/loadingIndicator.service\";\nimport {MakeTopUp3DSService} from \"./makeTopUp3DS.service\";\nimport $ from 'jquery';\nimport {OrderDiscountGiftCardSharingDataService} from \"../../../orderManagement/orderDiscountGiftCard/orderDiscountGiftCardSharingData.services\";\nimport {AppConfig as app} from \"../../../../framework/appConfig\";\nimport {BenefitsDataService} from \"../../../benefits/benefitsData.service\";\n\n@IonicPage()\n@Component({\n    selector: 'page-makeTopUp3DS',\n    templateUrl: 'makeTopUp3DS.html',\n    providers: [\n        MakeTopUp3DSService\n    ]\n})\n\nexport class MakeTopUp3DSPage {\n    bankPayment;\n    dataAfterGenerateOrder;\n    cardIndex;\n    cardPrimary;\n    errorObject;\n    constructor(public alertCtrl: AlertController,\n                public routeManager: RouteManagerService,\n                public makeTopUp3DSService: MakeTopUp3DSService,\n                public navCtrl: NavController,\n                public navParams: NavParams) {\n\n    }\n\n    ionViewWillEnter() {\n        this.errorObject = null;\n\n        $('.app-root').addClass('not-show-tab');\n        this.submitedParesponse = false;\n        if (this.routeManager.ifNotLoggedInThenGoBackToLoginScreen() === false) {\n            if (this.navParams.get('bankPayment')) {\n                this.bankPayment = this.navParams.get('bankPayment');\n            }\n            if (this.navParams.get('cardPrimary')) {\n                this.cardPrimary = this.navParams.get('cardPrimary');\n            }\n            if (this.navParams.get('dataAfterGenerateOrder')) {\n                this.dataAfterGenerateOrder = this.navParams.get('dataAfterGenerateOrder');\n            }\n            this.cardIndex = this.navParams.get('cardIndex');\n        }\n    }\n\n\n    ionViewDidLeave() {\n        this.errorObject = null;\n        this.submitedParesponse = false;\n        clearTimeout(this.timerAutoSubmit);\n    }\n\n    ionViewDidEnter() {\n        this.errorObject = null;\n        setTimeout(() => {\n            $('#submitIframe3D').click();\n        }, app.Configuration.MakeTopUp3DS.submitIframe3D);\n\n        setTimeout(() => {\n            this.autoSubmitPaResponse();\n        }, app.Configuration.MakeTopUp3DS.autoSubmitPaResponse);\n    }\n\n    private timerAutoSubmit: any;\n    autoSubmitPaResponse() {\n        this.timerAutoSubmit = setTimeout(() => {\n            let found: boolean = false;\n            let PaRes: any;\n            let PaResTextarea: any;\n\n            PaResTextarea = window.localStorage.getItem('PaResponse');\n            localStorage.removeItem('PaResponse');\n            if (Utils.isNotNull(PaResTextarea) && PaResTextarea !== '') {\n                PaRes = PaResTextarea;\n                if (PaRes !== '') {\n                    found = true;\n                    this.paymentResume(PaRes)\n                    clearTimeout(this.timerAutoSubmit);\n                    return;\n                }\n            }\n            if (!found) {\n                this.autoSubmitPaResponse();\n            }\n        }, app.Configuration.MakeTopUp3DS.submitIframe3D);\n    }\n\n    private submitedParesponse: boolean = false;\n    paymentResume(Pares) {\n        // only submit PaResponse once time;\n        if (this.submitedParesponse === true) return;\n        this.submitedParesponse = true\n        let body = {\n            \"orderNumber\": this.dataAfterGenerateOrder.orderNumber,\n            \"paRes\": Pares\n        };\n        window.localStorage.removeItem('PaResponse');\n        LoadingIndicatorService.getInstance().showLoadingIndicator();\n        this.makeTopUp3DSService.paymentResume(body)\n            .subscribe((res) => {\n                if (!res.ok) {\n                    return;\n                }\n                this.navCtrl.push('MakeTopUpSuccessFullPage', {\n                    dataAfterGenerateOrder: this.dataAfterGenerateOrder,\n                    cardIndex: this.cardIndex\n                }).then(() => {\n                    const startIndex = this.navCtrl.getActive().index - 3;\n                    this.navCtrl.remove(startIndex, 3);\n                });\n\n            }, (error) => {\n\n                LoadingIndicatorService.getInstance().hideLoadingIndicator();\n                if (Utils.isNotNull(error) && Utils.isNotNull(error.data) && Utils.isNotNull(error.data.response)) {\n                    let orderNumber = error.data.response.orderNumber;\n                    OrderDiscountGiftCardSharingDataService.getInstance().setNewOrderNumber(orderNumber);\n                }\n\n                if (Utils.isNotNull(error) && Utils.isNotNull(error.data) && Utils.isNotNull(error.data.errors[0])) {\n                    this.errorObject = error.data.errors[0];\n                }\n                this.navCtrl.push('MakeTopUptPage', {\n                    cardprimary: this.cardPrimary,\n                    dataAfterGenerateOrder: this.dataAfterGenerateOrder,\n                    cardIndex: this.cardIndex,\n                    errorObject: this.errorObject\n                }).then(() => {\n                    this.errorObject = null;\n                    const startIndex = this.navCtrl.getActive().index - 2;\n                    this.navCtrl.remove(startIndex, 2);\n                });\n            }, () => {\n                LoadingIndicatorService.getInstance().hideLoadingIndicator();\n            });\n    }\n\n    gotoAmount() {\n        this.navCtrl.push('MakeTopUptPage', {\n            cardprimary: this.cardPrimary,\n            dataAfterGenerateOrder: this.dataAfterGenerateOrder,\n            cardIndex: this.cardIndex,\n            errorObject: null\n        }).then(() => {\n            this.errorObject = null;\n            const startIndex = this.navCtrl.getActive().index - 2;\n            this.navCtrl.remove(startIndex, 2);\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/CardManagement/cardDetails/makeTopUp3DS/makeTopUp3DS.ts","import { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs/Observable\";\nimport {HttpService} from \"../../../../framework/services/httpService/http.service\";\n\n@Injectable()\nexport class MakeTopUp3DSService {\n  constructor(\n      private http: HttpService\n  ) {\n  }\n\n  paymentResume(body): Observable<any> {\n    return this.http.post(\"order/payment/card/resume\", body);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/CardManagement/cardDetails/makeTopUp3DS/makeTopUp3DS.service.ts"],"sourceRoot":""}