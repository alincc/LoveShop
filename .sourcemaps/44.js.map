{"version":3,"sources":["../../src/spa/+screens/orderManagement/orderSupermarket/orderSupermarketStep1/orderSupermarketStep1.ts","../../src/spa/+screens/orderManagement/orderSupermarket/orderSupermarketStep1/orderSupermarketStep1.service.ts","../../src/spa/+screens/orderManagement/orderSupermarket/orderSupermarketStep1/orderSupermarketStep1.module.ts","../../src/spa/+screens/orderManagement/orderManagementSharingData.services.ts"],"names":[],"mappings":"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","file":"44.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController, IonicPage } from 'ionic-angular';\nimport { RouteManagerService } from '../../../../framework/services/routeManager/routeManager.service';\nimport { ToastMessageService } from \"../../../../framework/services/toastMessageService/toastMessage.service\";\nimport { OrderManagementSharingDataService } from \"../../orderManagementSharingData.services\";\nimport { Utils } from \"../../../../framework/services/utilities/utilities\";\nimport { LoadingIndicatorService } from \"../../../../framework/services/loadingIndicatorService/loadingIndicator.service\";\nimport { OrderSuperMarketSharingDataService } from \"../orderSuperMarketSharingData.services\";\nimport { OrderSupermarketStep1Service } from \"./orderSupermarketStep1.service\";\nimport { MyShoppingBasketSharingDataService } from \"../../../myShoppingBasket/myShoppingBasketSharingData.services\";\nimport {AppConfig as app} from \"../../../../framework/appConfig\";\n\n@IonicPage()\n@Component({\n  selector: 'page-orderSupermarketStep1',\n  templateUrl: 'orderSupermarketStep1.html',\n  providers: [\n    OrderSupermarketStep1Service\n  ]\n})\nexport class OrderSupermarketStep1 {\n  orderGenerateSuperMarket: any;\n  primaryCard: any;\n  _confirmOrder;\n  empty_top_up_card_later= app.Configuration.ContentMessage.empty_top_up_card_later;\n  constructor(public routeManager: RouteManagerService,\n    public navCtrl: NavController,\n    public orderSupermarketStep1Service: OrderSupermarketStep1Service) {\n  }\n\n  ionViewWillEnter() {\n    if (this.routeManager.ifNotLoggedInThenGoBackToLoginScreen() === false) {\n      this.primaryCard = OrderManagementSharingDataService.getInstance().getPrimaryCard();\n      this.orderGenerateSuperMarket = OrderManagementSharingDataService.getInstance().getOrderGenerateOrderSupermaket();\n    }\n  }\n\n  confirmOrder() {\n    this._unsubscribe();\n    let orderData = this._buildGenerateOrderEcodeRequest();\n    LoadingIndicatorService.getInstance().showLoadingIndicator();\n    this._confirmOrder = this.orderSupermarketStep1Service.confirmOrder(orderData)\n      .subscribe((res) => {\n        if (!res.ok) {\n          return;\n        }\n        this.navCtrl.push('OrderSupermarketStep2');\n      }, (error) => {\n        LoadingIndicatorService.getInstance().hideLoadingIndicator();\n      }, () => {\n        LoadingIndicatorService.getInstance().hideLoadingIndicator();\n      });\n  }\n\n  private _buildGenerateOrderEcodeRequest() {\n    let orderSummary = {\n      'orderNumber': this.orderGenerateSuperMarket.orderNumber,\n    }\n    return orderSummary;\n  }\n\n  private _unsubscribe() {\n    if (this._confirmOrder) {\n      this._confirmOrder.unsubscribe();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/orderManagement/orderSupermarket/orderSupermarketStep1/orderSupermarketStep1.ts","import { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs/Observable\";\nimport {HttpService} from \"../../../../framework/services/httpService/http.service\";\n\n@Injectable()\nexport class OrderSupermarketStep1Service {\n\n  constructor(\n      private http: HttpService\n  ) {\n  }\n\n  confirmOrder(orderInfor): Observable<any> {\n    return this.http.post(\"order/zero-value\", orderInfor);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/orderManagement/orderSupermarket/orderSupermarketStep1/orderSupermarketStep1.service.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { OrderSupermarketStep1 } from './orderSupermarketStep1';\n\n@NgModule({\n  declarations: [OrderSupermarketStep1],\n  imports: [IonicPageModule.forChild(OrderSupermarketStep1)],\n  exports: [OrderSupermarketStep1]\n})\nexport class OrderSupermarketStep1Module { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/orderManagement/orderSupermarket/orderSupermarketStep1/orderSupermarketStep1.module.ts","import { BehaviorSubject } from \"rxjs/Rx\";\n\nexport class OrderManagementSharingDataService {\n  private defaultMasterData: any = {};\n  private orderGenerateEcode: any;\n  private orderGenerateSupermarket: any;\n  private orderGenerate: any;\n\n  private primaryCard: any;\n\n  private currentMasterData: any = Object.assign({}, this.defaultMasterData);\n  private _state$ = new BehaviorSubject<any>(this.currentMasterData);\n\n  get state$() {\n    return this._state$;\n  }\n\n  resetState() {\n    this.currentMasterData = Object.assign({}, this.defaultMasterData);\n    this._state$.next(this.currentMasterData);\n  }\n\n\n  saveOrderGenerateOrderSupermarket(data: any) {\n    this.orderGenerateSupermarket = data;\n  }\n\n  getOrderGenerateOrderSupermaket() {\n    return this.orderGenerateSupermarket;\n  }\n\n  resetOrderGenerateOrderSuperMarket() {\n    this.orderGenerateSupermarket = Object.assign({}, this.defaultMasterData);\n  }\n\n\n  savePrimaryCard(data: any) {\n    this.primaryCard = data;\n  }\n\n  getPrimaryCard() {\n    return this.primaryCard;\n  }\n\n  resetPrimaryCard() {\n    this.primaryCard = Object.assign({}, this.defaultMasterData);\n  }\n\n  private static _instance: OrderManagementSharingDataService = new OrderManagementSharingDataService();\n  public static getInstance(): OrderManagementSharingDataService {\n    return OrderManagementSharingDataService._instance;\n  }\n  constructor() {\n    if (OrderManagementSharingDataService._instance) {\n      throw new Error('Error: Instantiation failed: '\n        + 'Use YourCardDetailsSharingDataService.getInstance() instead of new.');\n    }\n\n    OrderManagementSharingDataService._instance = this;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/orderManagement/orderManagementSharingData.services.ts"],"sourceRoot":""}