{"version":3,"sources":["../../src/spa/+screens/orderManagement/orderDiscountGiftCard/orderDiscountGiftCard3DS/orderDiscountGiftCard3DS.module.ts","../../src/spa/+screens/orderManagement/orderDiscountGiftCard/orderDiscountGiftCardSharingData.services.ts","../../src/spa/+screens/orderManagement/orderDiscountGiftCard/orderDiscountGiftCard3DS/orderDiscountGiftCard3DS.ts","../../src/spa/+screens/orderManagement/orderDiscountGiftCard/orderDiscountGiftCard3DS/orderDiscountGiftCard3DS.service.ts"],"names":[],"mappings":"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","file":"48.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport {OrderDiscountGiftCard3DSPage} from \"./orderDiscountGiftCard3DS\";\n\n@NgModule({\n  declarations: [\n    OrderDiscountGiftCard3DSPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(OrderDiscountGiftCard3DSPage),\n  ],\n  exports: [\n    OrderDiscountGiftCard3DSPage\n  ]\n})\nexport class OrderDiscountGiftCard3DSModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/orderManagement/orderDiscountGiftCard/orderDiscountGiftCard3DS/orderDiscountGiftCard3DS.module.ts","import {BehaviorSubject} from \"rxjs/Rx\";\nimport {Utils} from \"../../framework/services/utilities/utilities\";\n\nexport class OrderDiscountGiftCardSharingDataService {\n\n  addressDelivery = {\n    addressIsUpdated: false,\n    newAddress: null\n  }\n\n    needUpdateOrderNumber = {\n        status: false,\n        newOrderNumber: null\n    }\n\n  selectGreetingCard = {\n    selectedGreetingCard: false,\n    greetingCardSelected: null,\n    greetingCardIndex: 0,\n  }\n\n  selectExtraGreetingCard = {\n    selectedExtraGreetingCard: false,\n    extraGreetingCardSelected: null,\n    extraGreetingCardIndex: 0,\n    quantity: 0,\n  }\n\n  isZeroQuantityExtra = false;\n\n\n  msgPersonal = {\n    haveMessagePersonal: false,\n    contentMessage: null,\n  }\n\n\n  resetData() {\n    this.addressDelivery = {\n      addressIsUpdated: false,\n      newAddress: null\n    }\n\n    this.resetFreeCardDesign();\n    this.resetExtraCardDesign();\n    this.resetmsgPersonal();\n\n  }\n\n  resetFreeCardDesign() {\n    this.selectGreetingCard = {\n      selectedGreetingCard: false,\n      greetingCardSelected: null,\n      greetingCardIndex: 0,\n    }\n\n  }\n\n  resetExtraCardDesign() {\n\n    this.selectExtraGreetingCard = {\n      selectedExtraGreetingCard: false,\n      extraGreetingCardSelected: null,\n      extraGreetingCardIndex: 0,\n      quantity: 0,\n    }\n  }\n\n  resetmsgPersonal() {\n    this.msgPersonal = {\n      haveMessagePersonal: false,\n      contentMessage: null\n    }\n  }\n\n  needUpdateDelivery(data) {\n    this.addressDelivery = {\n      addressIsUpdated: true,\n      newAddress: data\n    }\n  }\n\n  getUpdateDelivery() {\n    return this.addressDelivery;\n  }\n\n  resetDelivery() {\n    this.addressDelivery = {\n      addressIsUpdated: false,\n      newAddress: null\n    }\n  }\n\n  saveSelectedFreeGreetingCard(index, card) {\n    this.resetFreeCardDesign();\n    this.selectGreetingCard = {\n      selectedGreetingCard: true,\n      greetingCardSelected: card || null,\n      greetingCardIndex: index || null,\n    }\n  }\n\n  getSelectedFreeGreetingCard() {\n    return this.selectGreetingCard;\n  }\n\n\n  saveExtraGreetingCard(card, index, quantity) {\n    this.resetExtraCardDesign();\n    this.selectExtraGreetingCard = {\n      selectedExtraGreetingCard: true,\n      extraGreetingCardSelected: card || null,\n      extraGreetingCardIndex:  index || null,\n      quantity:  quantity || 0,\n    }\n  }\n\n  getExtraGreetingCard() {\n    return this.selectExtraGreetingCard;\n  }\n\n\n\n\n  saveMessagePersonal(msg) {\n    this.msgPersonal = {\n      haveMessagePersonal: true,\n      contentMessage: msg\n    }\n  }\n\n  getMessagePersonal() {\n    return this.msgPersonal;\n  }\n\n  setisZeroQuantityExtra(msg) {\n    this.isZeroQuantityExtra = true;\n  }\n\n  getIsZeroQuantityExtra() {\n    return this.isZeroQuantityExtra;\n  }\n\n\n  getNewOrderNumber() {\n      return this.needUpdateOrderNumber;\n  }\n\n  resetNewOrderNumber() {\n      this.needUpdateOrderNumber = {\n          status: false,\n          newOrderNumber: null\n      }\n  }\n\n  setNewOrderNumber(newOrderNumber) {\n      this.needUpdateOrderNumber = {\n          status: true,\n          newOrderNumber: newOrderNumber\n      }\n  }\n\n\n  private static _instance: OrderDiscountGiftCardSharingDataService = new OrderDiscountGiftCardSharingDataService();\n\n  public static getInstance(): OrderDiscountGiftCardSharingDataService {\n    return OrderDiscountGiftCardSharingDataService._instance;\n  }\n\n  constructor() {\n    if (OrderDiscountGiftCardSharingDataService._instance) {\n      throw new Error('Error: Instantiation failed: '\n        + 'Use YourCardDetailsSharingDataService.getInstance() instead of new.');\n    }\n\n    OrderDiscountGiftCardSharingDataService._instance = this;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/orderManagement/orderDiscountGiftCard/orderDiscountGiftCardSharingData.services.ts","import {Component} from '@angular/core';\nimport {AlertController, IonicPage, NavController, NavParams} from 'ionic-angular';\nimport {RouteManagerService} from \"../../../../framework/services/routeManager/routeManager.service\";\nimport {Utils} from \"../../../../framework/services/utilities/utilities\";\nimport {LoadingIndicatorService} from \"../../../../framework/services/loadingIndicatorService/loadingIndicator.service\";\nimport $ from 'jquery';\nimport {OrderDiscountGiftCard3DSService} from \"./orderDiscountGiftCard3DS.service\";\nimport {OrderDiscountGiftCardSharingDataService} from \"../orderDiscountGiftCardSharingData.services\";\nimport {AppConfig as app} from \"../../../../framework/appConfig\";\n\n@IonicPage()\n@Component({\n  selector: 'page-orderDiscountGiftCard3DS',\n  templateUrl: 'orderDiscountGiftCard3DS.html',\n  providers: [\n    OrderDiscountGiftCard3DSService\n  ]\n})\n\nexport class OrderDiscountGiftCard3DSPage {\n  bankPayment;\n  dataAfterGenerateOrder;\n  dataBeforeGenerateOrder;\n  cardIndex;\n  deliveryMethod;\n  total;\n\n  constructor(public alertCtrl: AlertController,\n              public routeManager: RouteManagerService,\n              public orderDiscountGiftCard3DSService: OrderDiscountGiftCard3DSService,\n              public navCtrl: NavController,\n              public navParams: NavParams) {\n  }\n\n  ionViewWillEnter() {\n\n    this.submitedParesponse = false;\n    if (this.routeManager.ifNotLoggedInThenGoBackToLoginScreen() === false) {\n      if (this.navParams.get('bankPayment')) {\n        this.bankPayment = this.navParams.get('bankPayment');\n      }\n\n      if (this.navParams.get('dataAfterGenerateOrder')) {\n        this.dataAfterGenerateOrder = this.navParams.get('dataAfterGenerateOrder');\n      }\n\n      if (this.navParams.get('dataBeforeGenerateOrder')) {\n        this.dataBeforeGenerateOrder = this.navParams.get('dataBeforeGenerateOrder');\n      }\n      this.cardIndex = this.navParams.get('cardIndex');\n\n      if (this.navParams.get('deliveryMethod')) {\n        this.deliveryMethod = this.navParams.get('deliveryMethod');\n      }\n\n      if (this.navParams.get('total')) {\n        this.total = this.navParams.get('total');\n      }\n    }\n    setTimeout(() => {\n      $('#submitIframe3D').click();\n    }, app.Configuration.OrderDiscountGiftCard3DS.submitIframe3D);\n\n    setTimeout(() => {\n      this.autoSubmitPaResponse();\n    }, app.Configuration.OrderDiscountGiftCard3DS.autoSubmitPaResponse);\n  }\n\n\n  ionViewDidLeave() {\n    this.submitedParesponse = false;\n    clearTimeout(this.timerAutoSubmit);\n  }\n\n  private timerAutoSubmit: any;\n\n  autoSubmitPaResponse() {\n    this.timerAutoSubmit = setTimeout(() => {\n      let found: boolean = false;\n      let PaRes: any;\n      let PaResTextarea: any;\n\n      PaResTextarea = localStorage.getItem('PaResponse');\n      localStorage.removeItem('PaResponse');\n      if (Utils.isNotNull(PaResTextarea) && PaResTextarea !== '') {\n        PaRes = PaResTextarea;\n        if (PaRes !== '') {\n          found = true;\n          this.paymentResume(PaRes);\n          clearTimeout(this.timerAutoSubmit);\n          return;\n        }\n      }\n      if (!found) {\n        this.autoSubmitPaResponse();\n      }\n\n    }, app.Configuration.OrderDiscountGiftCard3DS.checkPaymentResume)\n  }\n\n  private submitedParesponse: boolean = false;\n\n  paymentResume(Pares) {\n    // only submit PaResponse once time;\n    if (this.submitedParesponse === true) return;\n    this.submitedParesponse = true\n\n    let body = {\n      \"orderNumber\": this.dataAfterGenerateOrder.orderNumber,\n      \"paRes\": Pares\n    };\n\n    LoadingIndicatorService.getInstance().showLoadingIndicator();\n    this.orderDiscountGiftCard3DSService.paymentResume(body)\n      .subscribe((res) => {\n        if (!res.ok) {\n          return;\n        }\n        this.navCtrl.push('OrderDiscountGiftCardComplete', {\n          dataAfterGenerateOrder: this.dataAfterGenerateOrder,\n          dataBeforeGenerateOrder: this.dataBeforeGenerateOrder,\n          cardIndex: this.cardIndex,\n          deliveryMethod: this.deliveryMethod,\n          total: this.total\n        });\n\n      }, (error) => {\n\n\n        LoadingIndicatorService.getInstance().hideLoadingIndicator();\n        if (Utils.isNotNull(error) && Utils.isNotNull(error.data) && Utils.isNotNull(error.data.response)) {\n          let orderNumber = error.data.response.orderNumber;\n          OrderDiscountGiftCardSharingDataService.getInstance().setNewOrderNumber(orderNumber);\n        }\n\n        let errorObject = null;\n\n        if (Utils.isNotNull(error) && Utils.isNotNull(error.data) && Utils.isNotNull(error.data.errors[0])) {\n          errorObject = error.data.errors[0];\n        }\n        this.navCtrl.push('OrderDiscountGiftCardPaymentCardPage', {\n          dataAfterGenerateOrder: this.dataAfterGenerateOrder,\n          cardIndex: this.cardIndex,\n          deliveryMethod: this.deliveryMethod,\n          total: this.total,\n          errorObject: errorObject\n        }).then(() => {\n          const startIndex = this.navCtrl.getActive().index - 2;\n          this.navCtrl.remove(startIndex, 2);\n        });\n\n      }, () => {\n        LoadingIndicatorService.getInstance().hideLoadingIndicator();\n      });\n  }\n\n\n  goBack() {\n    this.navCtrl.push('OrderDiscountGiftCardPaymentCardPage', {\n      dataAfterGenerateOrder: this.dataAfterGenerateOrder,\n      cardIndex: this.cardIndex,\n      deliveryMethod: this.deliveryMethod,\n      total: this.total,\n      errorObject: null\n    }).then(() => {\n      const startIndex = this.navCtrl.getActive().index - 2;\n      this.navCtrl.remove(startIndex, 2);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/orderManagement/orderDiscountGiftCard/orderDiscountGiftCard3DS/orderDiscountGiftCard3DS.ts","import { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs/Observable\";\nimport {HttpService} from \"../../../../framework/services/httpService/http.service\";\n\n@Injectable()\nexport class OrderDiscountGiftCard3DSService {\n  constructor(\n      private http: HttpService\n  ) {\n  }\n\n  paymentResume(body): Observable<any> {\n    return this.http.post(\"order/payment/card/resume\", body);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/orderManagement/orderDiscountGiftCard/orderDiscountGiftCard3DS/orderDiscountGiftCard3DS.service.ts"],"sourceRoot":""}