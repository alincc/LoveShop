{"version":3,"sources":["../../src/spa/+screens/AccountManagement/touchIDSettingFirstTime/touchIDSettingFirstTime.module.ts","../../src/spa/+screens/AccountManagement/touchIDSettingFirstTime/touchIDSettingFirstTime.ts"],"names":[],"mappings":"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","file":"97.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TouchIDSettingFirstTimePage } from './touchIDSettingFirstTime';\n\n@NgModule({\n  declarations: [TouchIDSettingFirstTimePage],\n  imports: [IonicPageModule.forChild(TouchIDSettingFirstTimePage)],\n  exports: [TouchIDSettingFirstTimePage]\n})\nexport class RegisterStep5PageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/AccountManagement/touchIDSettingFirstTime/touchIDSettingFirstTime.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, AlertController, NavController, NavParams } from 'ionic-angular';\n\nimport { FingerprintAIO } from '@ionic-native/fingerprint-aio';\n\nimport { RouteManagerService } from \"../../../framework/services/routeManager/routeManager.service\";\nimport { MobileDeviceService } from \"../../../framework/services/mobileDeviceService/mobileDeviceService.service\";\nimport { AuthenticationDataSharingService } from \"../../../framework/login/authenticationDataSharing.service\";\nimport { VerifyPINService } from \"../verifyPIN/verifyPIN.service\";\nimport {AppConfig as app} from \"../../../framework/appConfig\";\n\n@IonicPage()\n@Component({\n  selector: 'page-touchIDSettingFirstTime',\n  templateUrl: 'touchIDSettingFirstTime.html',\n})\n\nexport class TouchIDSettingFirstTimePage {\n\n  private touchId: FingerprintAIO;\n  fingerprintVerified: boolean = false;\n  reset_fingerprint = app.Configuration.ContentMessage.reset_fingerprint;\n  use_of_fingerprint = app.Configuration.ContentMessage.use_of_fingerprint;\n  create_print_ID = app.Configuration.ContentMessage.create_print_ID;\n  skip_id_setup = app.Configuration.ContentMessage.skip_id_setup;\n  wrong_touch_ID = app.Configuration.ContentMessage.wrong_touch_ID;\n  too_many_attempts = app.Configuration.ContentMessage.too_many_attempts;\n  constructor(\n    public routeManager: RouteManagerService,\n    public alertCtrl: AlertController\n    , touchId: FingerprintAIO,\n    private navCtrl: NavController,\n    private navParams: NavParams\n  ) {\n\n    this.touchId = touchId;\n  }\n\n  ionViewWillEnter() {\n    this.touchId.isAvailable()\n      .then(res => {\n        return this.touchId.show({\n          clientId: 'Touch ID for Love2Shop',\n          clientSecret: 'myPassword', //Only necessary for Android\n          disableBackup: true,  //Only for Android(optional)\n        });\n      }).then(res => {\n        this.fingerprintVerified = true;\n      }).catch(err => {\n        if (err === '-1' || err === '-8') {\n          this.showAlertTouchIdFail();\n        } else {\n          this.fingerprintVerified = false;\n          this.skipTouchIDSetup();\n        }\n      });\n  }\n\n  public submitRegisterData() {\n    this.touchId.isAvailable().then(res => {\n      VerifyPINService.getInstance().touchIDState = true;\n    })\n      .catch(err => {\n        VerifyPINService.getInstance().touchIDState = false;\n      })\n      .then(_ => this.navCtrl.setRoot(this.navParams.get('nextPage')));\n  }\n\n  skipTouchIDSetup() {\n    const service = VerifyPINService.getInstance();\n    service.touchIDState = false;\n    this.navCtrl.setRoot(this.navParams.get('nextPage'));\n  }\n\n  showAlertTouchIdFail() {\n    let alert = this.alertCtrl.create({\n      title: this.wrong_touch_ID,\n      message: this.too_many_attempts,\n      cssClass: 'wrong-pin',\n      buttons: [{\n        text: 'OK',\n        handler: data => {\n          this.fingerprintVerified = false;\n          this.skipTouchIDSetup();\n        }\n      }]\n    });\n\n    alert.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/AccountManagement/touchIDSettingFirstTime/touchIDSettingFirstTime.ts"],"sourceRoot":""}