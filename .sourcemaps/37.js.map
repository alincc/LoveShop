{"version":3,"sources":["../../src/spa/+screens/whereToSpend/where2SpendInStore/changeCard/changeCard.ts","../../src/spa/+screens/whereToSpend/where2SpendInStore/changeCard/changeCard.module.ts","../../src/spa/+screens/whereToSpend/where2SpendSharingData.services.ts","../../src/spa/+screens/whereToSpend/where2Spend.services.ts","../../src/spa/+screens/Others/tabs/tabs.ts"],"names":[],"mappings":"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","file":"37.js","sourcesContent":["import { Component, ViewChild } from '@angular/core';\nimport { NavController, IonicPage, AlertController, Tabs } from 'ionic-angular';\nimport { RouteManagerService } from \"../../../../framework/services/routeManager/routeManager.service\";\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { Diagnostic } from '@ionic-native/diagnostic';\nimport { Observable } from \"rxjs/Observable\";\nimport { Observer } from \"rxjs/Observer\";\nimport { Where2SpendSharingDataService } from \"../../where2SpendSharingData.services\";\nimport { Subscription } from \"rxjs/Subscription\";\nimport { RetriveRetailerRequest, VIRTUAL_MASTERCARD, Where2SpendServices } from \"../../where2Spend.services\";\nimport { InAppBrowser } from \"@ionic-native/in-app-browser\";\nimport { ToastMessageService } from \"../../../../framework/services/toastMessageService/toastMessage.service\";\nimport { LoadingIndicatorService } from \"../../../../framework/services/loadingIndicatorService/loadingIndicator.service\";\nimport { NavService } from \"../../../../shared/nav.service\";\nimport { TabsPage } from \"../../../Others/tabs/tabs\";\nimport { AppConfig as app } from \"../../../../framework/appConfig\";\nimport { YourCardDetailsSharingDataService } from '../../../CardManagement/cardDetails/yourCardDetails/yourCardDetailsSharingData.services';\n\nconst VALID_CARD_TYPES = [];\n\nconst DEFAULT_ERROR_MSG = app.Configuration.HttpService.DEFAULT_ERROR_MSG;\nconst MASTER_CARD_TYPES = ['MASTERCARD', 'PMASTERCARD'];\nconst L2S_CARD_TYPES = ['FLEXECASH', 'FLEXECODE', 'FLEXECODE_2.0'];\n\n@IonicPage()\n@Component({\n  selector: 'page-changeCard',\n  templateUrl: 'changeCard.html',\n  providers: [\n    Where2SpendServices,\n    InAppBrowser\n  ]\n})\nexport class ChangeCardPage {\n\n  @ViewChild(\"tabs\") tabs: Tabs;\n\n  opemMsCardSub: Subscription;\n\n  validCardType = VALID_CARD_TYPES;\n  imageBaseUrl = 'https://www.love2shop.co.uk';\n  listCards: any;\n\n  private _cardClickSub: Subscription;\n\n  constructor(\n    public navCtrl: NavController,\n    private where2SpendServices: Where2SpendServices,\n    private iab: InAppBrowser,\n    private navSvc: NavService,\n    private tabPage: TabsPage,\n    public routeManager: RouteManagerService) {\n  }\n\n  ionViewWillEnter() {\n    if (this.routeManager.ifNotLoggedInThenGoBackToLoginScreen() === false) {\n      if (Where2SpendSharingDataService.getInstance()) {\n        let needBackToYourCard = Where2SpendSharingDataService.getInstance().needBackToYOurCardDetail;\n        if (needBackToYourCard === true) {\n\n          this.navCtrl.push('Where2SpendInStoreMapPage');\n          return;\n        }\n      }\n      if (YourCardDetailsSharingDataService.getInstance()) {\n        let cards = YourCardDetailsSharingDataService.getInstance().getCardsList();\n        if (!cards || cards.length <= 0) {\n          this.gotoAddCard();\n        }\n        this.listCards = this._filterCardsList(cards);\n      }\n\n    }\n  }\n\n  gotoAddCard() {\n  }\n\n  pickCardItem(item) {\n    Where2SpendSharingDataService.getInstance().selectedCard = item;\n    YourCardDetailsSharingDataService.getInstance().saveCardInforActive = item;\n    if (this._isL2SCard(item)) {\n      this._gotoMapPage();\n    } else if (this._isMasterCard(item)) {\n      this.gotoVirtalMsCard();\n    }\n  }\n\n  gotoVirtalMsCard() {\n    if (this.opemMsCardSub) {\n      this.opemMsCardSub.unsubscribe();\n    }\n    const body: RetriveRetailerRequest = { requestType: VIRTUAL_MASTERCARD };\n    this.opemMsCardSub = this.where2SpendServices.retriveRetailerLocation(body).subscribe(res => {\n      if (res && res.response && res.response.link) {\n        let url = res.response.link;\n        const browser = this.iab.create(url, \"_system\", \"location=true\");\n      }\n    }, (err) => {\n    })\n  }\n\n  private _handleError(res) {\n    LoadingIndicatorService.getInstance().hideLoadingIndicator();\n    let msg = DEFAULT_ERROR_MSG;\n    try {\n      let body = JSON.parse(res._body);\n      msg = body.errors[0].message;\n    } catch (e) {\n      msg = DEFAULT_ERROR_MSG;\n    }\n    this._showError(msg);\n  }\n\n  private _showError(message) {\n    ToastMessageService.getInstance().showToastMessage(message);\n  }\n\n  private _gotoMapPage() {\n    Where2SpendSharingDataService.getInstance().keepData = false;\n    Where2SpendSharingDataService.getInstance().useMyLocation = true;\n    Where2SpendSharingDataService.getInstance().keepLocation = false;\n    Where2SpendSharingDataService.getInstance().currenrLocation = null;\n    Where2SpendSharingDataService.getInstance().categories = null;\n\n    this.navCtrl.push('Where2SpendInStoreMapPage');\n  }\n\n  private _filterCardsList(cards: any[]): any[] {\n    const result = [];\n\n    for (let card of cards) {\n      if (this._filterCardFn(card)) {\n        result.push(card);\n      }\n    }\n    return result;\n  }\n\n  private _filterCardFn(card): boolean {\n    return card && this._isValidCardType(card) && this._cardCanShowWhere2Spend(card);\n  }\n\n  private _isValidCardType(card): boolean {\n    return this._isMasterCard(card) || this._isL2SCard(card);\n  }\n\n  private _isMasterCard(card): boolean {\n    return card && card.cardType && MASTER_CARD_TYPES.indexOf(card.cardType) > -1;\n  }\n\n  private _isL2SCard(card): boolean {\n    return card && card.cardType && L2S_CARD_TYPES.indexOf(card.cardType) > -1;\n  }\n\n  private _cardCanShowWhere2Spend(card): boolean {\n    return true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/whereToSpend/where2SpendInStore/changeCard/changeCard.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChangeCardPage } from './changeCard';\n\n@NgModule({\n  declarations: [ChangeCardPage],\n  imports: [IonicPageModule.forChild(ChangeCardPage)],\n  exports: [ChangeCardPage]\n})\nexport class ChangeCardPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/whereToSpend/where2SpendInStore/changeCard/changeCard.module.ts","import { BehaviorSubject } from \"rxjs/BehaviorSubject\";\r\nimport { Subject } from 'rxjs/Subject';\r\n\r\nexport class Where2SpendSharingDataService {\r\n\r\n    private static _instance: Where2SpendSharingDataService;\r\n    \r\n    categories: any;\r\n    selectedCard: any;\r\n    useMyLocation: any;\r\n    currenrLocation: any;\r\n    keepLocation: any;\r\n    keepData: any;\r\n    refreshCategory: any;\r\n    gpsStatus: any;\r\n    needBackToYOurCardDetail: boolean = false;\r\n    pickupAddress: string;\r\n\r\n    updateEvent$: Subject<any> = new Subject();\r\n\r\n    set needBackToYOurCard(status) {\r\n        this.needBackToYOurCardDetail =  status;\r\n    }\r\n\r\n    get needBackToYOurCard() {\r\n        return this.needBackToYOurCardDetail;\r\n    }\r\n\r\n    resetState() {\r\n        this.categories = null;\r\n        this.selectedCard = null;\r\n        this.useMyLocation = true;\r\n        this.currenrLocation = false;\r\n        this.keepLocation = false;\r\n        this.keepData = false;\r\n        this.refreshCategory = false;\r\n        this.gpsStatus = false;\r\n        this.needBackToYOurCardDetail = false;\r\n    }\r\n\r\n    static getInstance(): Where2SpendSharingDataService {\r\n        if(!Where2SpendSharingDataService._instance){\r\n            Where2SpendSharingDataService._instance = new Where2SpendSharingDataService();\r\n        }\r\n        return Where2SpendSharingDataService._instance ;\r\n    }\r\n\r\n    constructor(\r\n    ) {\r\n    }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/whereToSpend/where2SpendSharingData.services.ts","import { HttpService } from './../../framework/services/httpService/http.service';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\n\nexport const CARD_INSTORE = 'CARD_INSTORE';\nexport const VOUCHER_INSTORE = 'VOUCHER_INSTORE';\nexport const ONLINE = 'ONLINE';\nexport const VIRTUAL_MASTERCARD = 'VIRTUAL_MASTERCARD';\n\n\nexport type RetriveRetailerRequestType = 'CARD_INSTORE'  | \n                                         'VOUCHER_INSTORE' | \n                                         'ONLINE' | \n                                         'VIRTUAL_MASTERCARD';\n\nexport interface CategoryOpt {\n  [x: string]: string\n}                                         \n\nexport interface RetriveRetailerRequest {\n  requestType: RetriveRetailerRequestType;\n  scheme?: string;\n  latitude?: string;\n  longitude?: string;\n  categories?: CategoryOpt[]\n  key?: string;\n}\n\n@Injectable()\nexport class Where2SpendServices {\n  constructor(\n    private http: HttpService\n  ) {\n  }\n\n  retriveRetailerLocation(body: RetriveRetailerRequest){\n    return this.http.post('card/where', body).share();\n  }\n\n  searchPostcodeAutoComplete(url: string): Observable<any> {\n    return this.http.getExternal(url);\n  }\n\n  lookUpAddress(url: string): Observable<any> {\n    return this.http.getExternal(url);\n  }\n  \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/whereToSpend/where2Spend.services.ts","import {Component, ViewChild} from '@angular/core';\nimport {IonicPage, ModalController, NavParams, NavController} from 'ionic-angular';\nimport {FingerprintAIO} from \"@ionic-native/fingerprint-aio\";\nimport {VerifyPINService} from \"../../AccountManagement/verifyPIN/verifyPIN.service\";\nimport {VerifyTouchIdPage} from \"../../AccountManagement/verifyTouchId/verifyTouchId\";\nimport {VerifyPINPage} from \"../../AccountManagement/verifyPIN/verifyPIN\";\nimport {Tabs, Tab} from \"ionic-angular\";\nimport {PinCodeService} from \"../../../framework/services/pinCodeService/pinCode.service\";\nimport {AuthenticationDataSharingService} from \"../../../framework/login/authenticationDataSharing.service\";\nimport {AuththenticationGuardService} from \"../../../framework/login/authenticationGuard.service\";\nimport {Where2SpendSharingDataService} from \"../../whereToSpend/where2SpendSharingData.services\";\nimport {YourCardDetailsSharingDataService} from \"../../CardManagement/cardDetails/yourCardDetails/yourCardDetailsSharingData.services\";\n\n@IonicPage()\n@Component({\n  templateUrl: 'tabs.html'\n})\nexport class TabsPage {\n  visibleVerifyPINScreen: boolean;\n  @ViewChild(\"tabs\") tabs: Tabs;\n\n  // tabRoots = ['HomePage', 'YourCardDetailsPage', 'ChangeCardPage', 'ExchangePage'];\n  tabRoots = ['YourCardDetailsPage', 'ChangeCardPage', 'ExchangePage', 'MorePage'];\n  selectedIndex = 0;\n  tab1Root = 'YourCardDetailsPage';\n  tab2Root = 'ChangeCardPage';\n  tab3Root = 'ExchangePage';\n  tab4Root = 'MorePage';\n  needToUpdatePIN = false;\n\n\n  constructor(private navParams: NavParams,\n              public modalCtrl: ModalController,\n              private touchId: FingerprintAIO,\n              private navCtrl: NavController,\n              public authGuardService: AuththenticationGuardService) {\n    if (PinCodeService\n        .getInstance()\n        .needSetupPinCode(AuthenticationDataSharingService.getInstance().loginEmail) === true\n    ) {\n      this.needToUpdatePIN = true;\n    }\n  }\n\n\n  ionViewWillEnter() {\n\n    if (this.needToUpdatePIN === true) {\n      return this.navCtrl.setRoot('SetupPINPage', {nextPage: 'TouchIDSettingFirstTimePage'});\n    }\n\n    if (this.navParams.get('keepData')) {\n      localStorage.setItem('no-reload-home-data', 'true');\n      delete this.navParams.data.keepData;\n    } else {\n      localStorage.removeItem('no-reload-home-data');\n    }\n\n    if (this.navParams.get('tab')) {\n      const tab = this.navParams.get('tab');\n      const index = this.tabRoots.indexOf(tab);\n      this.selectedIndex = (index > -1) ? index : 0;\n      if (this.tabs) {\n        this.tabs.select(this.selectedIndex, {});\n      }\n      delete this.navParams.data.tab;\n    }\n\n    if (this.navParams.get('root')) {\n      const root = this.navParams.get('root');\n      const data = this.navParams.get('data') || {};\n      this.navCtrl.setRoot(root, data);\n      delete this.navParams.data.root;\n    }\n\n    if (this.navParams.get('noVerify')) {\n      delete this.navParams.data.noVerify;\n      return;\n    }\n\n\n    const vPinSvc = VerifyPINService.getInstance();\n\n    // after 3 times entered wrong PIN code\n    vPinSvc.verifyPINClosed.subscribe(res => {\n      if (res === true) {\n        this.navCtrl.setRoot('LoginPage');\n      }\n    });\n\n    let showVerifyPIN = this.navParams.get('showVerifyPIN');\n    if (vPinSvc.VisibleScreen === false && showVerifyPIN && showVerifyPIN === true) {\n      this.navParams.data['showVerifyPIN'] = void (0);\n      let verifyPIN = this.modalCtrl.create(VerifyPINPage, { }, {\n        cssClass: 'touchable-page'\n      });\n\n      verifyPIN.onDidDismiss(() => {\n        vPinSvc.VisibleScreen = false;\n      });\n\n      vPinSvc.VisibleScreen = true;\n      verifyPIN.present();\n    }\n  }\n\n   tabSelected(tab: Tab) {\n    let cards = YourCardDetailsSharingDataService.getInstance().getCardsList();\n    if (!cards || cards.length > 0) {\n      this.tabs.select(tab.index);\n    } else {\n      if(tab.index === 3) {\n        this.tabs.select(tab.index);\n      } else {\n        this.tabs.select(0);\n      }\n    }\n  }\n\n\n  ionVieDidEnter() {\n    YourCardDetailsSharingDataService.getInstance().tabs = this.tabs;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/Others/tabs/tabs.ts"],"sourceRoot":""}