{"version":3,"sources":["../../src/spa/+screens/AccountManagement/setupPIN/setupPIN.module.ts","../../src/spa/framework/validations/validator-pinCodeMatch.directive.ts","../../src/spa/+screens/AccountManagement/setupPIN/setupPIN.ts","../../src/spa/+screens/AccountManagement/setupPIN/setupPIN.service.ts"],"names":[],"mappings":"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","file":"58.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { SetupPINPage } from './setupPIN';\r\nimport { PttPinModule } from '../../../../libs/ptt-pin/ptt-pin.module';\r\n\r\n@NgModule({\r\n  declarations: [SetupPINPage],\r\n  imports: [\r\n    IonicPageModule.forChild(SetupPINPage),\r\n    PttPinModule\r\n  ],\r\n  exports: [SetupPINPage]\r\n})\r\nexport class SetupPINPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/AccountManagement/setupPIN/setupPIN.module.ts","import {\n    FormGroup\n} from '@angular/forms';\nimport {AppConfig as app} from \"../appConfig\";\n\nlet PIN_and_confirm_do_not_match = app.Configuration.ContentMessage.PIN_and_confirm_do_not_match;\nexport function checkMatchWith(fields: any[]) {\n    return (group: FormGroup) => {\n        fields.forEach(item => {\n            let fieldInput = group.controls[item.Field],\n            confirmationInput = group.controls[item.ConfirmField];\n            if (fieldInput.value !== confirmationInput.value) {\n                return confirmationInput.setErrors({ notEquivalent: errorMessage() })\n            }\n            else {\n                if (fieldInput.value === '' && confirmationInput.value === ''){\n                    return fieldInput.setErrors({ notEquivalent:'error' });\n                }\n                return confirmationInput.setErrors(null);\n            }\n        });\n    }\n}\n\nfunction errorMessage(): string {\n    return PIN_and_confirm_do_not_match;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/framework/validations/validator-pinCodeMatch.directive.ts","import { Component, ViewChildren, QueryList } from '@angular/core';\r\nimport {\r\n  IonicPage,\r\n  AlertController,\r\n  NavParams,\r\n  NavController,\r\n  TextInput\r\n} from 'ionic-angular';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { numericValidator } from \"../../../framework/validations/validator-numeric.directive\";\r\nimport { requireValidator } from \"../../../framework/validations/validator-required.directive\";\r\nimport { SetupPINService } from \"./setupPIN.service\";\r\nimport { checkMatchWith } from '../../../framework/validations/validator-pinCodeMatch.directive';\r\nimport { PinCodeService } from \"../../../framework/services/pinCodeService/pinCode.service\";\r\nimport { AuthenticationDataSharingService } from \"../../../framework/login/authenticationDataSharing.service\";\r\nimport { RouteManagerService } from \"../../../framework/services/routeManager/routeManager.service\";\r\nimport { Utils } from \"../../../framework/services/utilities/utilities\";\r\nimport { FingerprintAIO } from '@ionic-native/fingerprint-aio';\r\nimport { ToastMessageService } from \"../../../framework/services/toastMessageService/toastMessage.service\";\r\nimport {VerifyPINService} from \"../verifyPIN/verifyPIN.service\";\r\nimport $ from 'jquery';\r\nimport {AppConfig as app} from \"../../../framework/appConfig\";\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-setupPIN',\r\n  templateUrl: 'setupPIN.html',\r\n  providers: [\r\n    SetupPINService\r\n  ]\r\n})\r\n\r\nexport class SetupPINPage {\r\n  nextPage: string;\r\n  model: any = {};\r\n  finalPage: any = '';\r\n  confirm_pin = app.Configuration.ContentMessage.confirm_pin;\r\n  PIN_5_digit = app.Configuration.ContentMessage.PIN_5_digit;\r\n  PIN_enter_5_digit = app.Configuration.ContentMessage.PIN_enter_5_digit;\r\n  PIN_and_confirm_do_not_match = app.Configuration.ContentMessage.PIN_and_confirm_do_not_match;\r\n  setup_PIN = app.Configuration.ContentMessage.setup_PIN;\r\n  @ViewChildren(TextInput) textInputs: QueryList<TextInput>;\r\n  \r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    public alertCtrl: AlertController,\r\n    public routeManager: RouteManagerService,\r\n    private setupPINService: SetupPINService,\r\n    private navParams: NavParams,\r\n    public navCtrl: NavController,\r\n    public touchId: FingerprintAIO\r\n  ) {\r\n    this.nextPage = navParams.get('nextPage');\r\n    this.buildForm();\r\n  }\r\n\r\n  five_digit_pin = app.Configuration.ContentMessage.five_digit_pin;\r\n\r\n  ionViewWillEnter() {\r\n    $('.app-root').addClass('not-show-tab');\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    $('.app-root').removeClass('not-show-tab');\r\n  }\r\n\r\n\r\n  public setupPINCode() {\r\n\r\n    if (this.setupPINForm.valid) {\r\n      PinCodeService.getInstance()\r\n        .savePinCode(\r\n        AuthenticationDataSharingService.getInstance().loginEmail,\r\n        this.setupPINForm.value\r\n        );\r\n\r\n      if (Utils.lengthGreaterThan0(this.nextPage)) {\r\n\r\n        this.finalPage = this.navParams.get('finalPage');\r\n        if (!this.finalPage || this.finalPage === '') {\r\n          this.finalPage = 'TabsPage';\r\n        }\r\n\r\n        if (this.nextPage === 'TouchIDSettingFirstTimePage') {\r\n          this.touchId.isAvailable()\r\n            .then(res => {\r\n              this.navCtrl.setRoot(this.nextPage, { nextPage: this.finalPage });\r\n            }).catch(err => {\r\n              VerifyPINService.getInstance().touchIDState = false;\r\n              this.navCtrl.setRoot(this.finalPage);\r\n            });\r\n        }\r\n        else {\r\n          this.navCtrl.setRoot(this.nextPage);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  private patchValue(controlName, value, updateState = false) {\r\n    const control = this.setupPINForm.get(controlName);\r\n    control.patchValue(value);\r\n    if (updateState) {\r\n      control.markAsTouched();\r\n      control.markAsDirty();\r\n    }\r\n  }\r\n  onPinChange(pin) {\r\n    const pin1 = pin.substr(0, 1);\r\n    const pin2 = pin.substr(1, 1);\r\n    const pin3 = pin.substr(2, 1);\r\n    const pin4 = pin.substr(3, 1);\r\n    const pin5 = pin.substr(4, 1);\r\n    this.patchValue('pin1', pin1, true);\r\n    if (pin.length > 1) {\r\n      this.patchValue('pin2', pin2, true);\r\n    } else {\r\n      this.patchValue('pin2', pin2);\r\n    }\r\n    if (pin.length > 2) {\r\n      this.patchValue('pin3', pin3, true);\r\n    } else {\r\n      this.patchValue('pin3', pin3);\r\n    }\r\n    if (pin.length > 3) {\r\n      this.patchValue('pin4', pin4, true);\r\n    } else {\r\n      this.patchValue('pin4', pin4);\r\n    }\r\n    if (pin.length > 4) {\r\n      this.patchValue('pin5', pin5, true);\r\n    } else {\r\n      this.patchValue('pin5', pin5);\r\n    }\r\n  }\r\n\r\n  onConfirmPinChange(pin) {\r\n    const pin1 = pin.substr(0, 1);\r\n    const pin2 = pin.substr(1, 1);\r\n    const pin3 = pin.substr(2, 1);\r\n    const pin4 = pin.substr(3, 1);\r\n    const pin5 = pin.substr(4, 1);\r\n    this.patchValue('pinConfirm1', pin1, true);\r\n    if (pin.length > 1) {\r\n      this.patchValue('pinConfirm2', pin2, true);\r\n    } else {\r\n      this.patchValue('pinConfirm2', pin2);\r\n    }\r\n    if (pin.length > 2) {\r\n      this.patchValue('pinConfirm3', pin3, true);\r\n    } else {\r\n      this.patchValue('pinConfirm3', pin3);\r\n    }\r\n    if (pin.length > 3) {\r\n      this.patchValue('pinConfirm4', pin4, true);\r\n    } else {\r\n      this.patchValue('pinConfirm4', pin4);\r\n    }\r\n    if (pin.length > 4) {\r\n      this.patchValue('pinConfirm5', pin5, true);\r\n    } else {\r\n      this.patchValue('pinConfirm5', pin5);\r\n    }\r\n  }\r\n\r\n  updateInputOnKey(event: KeyboardEvent, target) {\r\n    if (event.key !== 'Backspace' && target && typeof target.setFocus === 'function') {\r\n      if (typeof event.stopImmediatePropagation === 'function') {\r\n        event.stopPropagation();\r\n      }\r\n      target.setFocus();\r\n    }\r\n  }\r\n\r\n  setupPINForm: FormGroup;\r\n  formErrors = {\r\n    'pin1': '',\r\n    'pin2': '',\r\n    'pin3': '',\r\n    'pin4': '',\r\n    'pin5': '',\r\n    'pinConfirm1': '',\r\n    'pinConfirm2': '',\r\n    'pinConfirm3': '',\r\n    'pinConfirm4': '',\r\n    'pinConfirm5': ''\r\n  };\r\n\r\n  buildForm() {\r\n    this.setupPINForm = this.formBuilder.group({\r\n      'pin1': ['',\r\n        [requireValidator('pin1'),\r\n        numericValidator()]],\r\n      'pin2': ['',\r\n        [requireValidator('pin2'),\r\n        numericValidator()]],\r\n      'pin3': ['',\r\n        [requireValidator('pin3'),\r\n        numericValidator()]],\r\n      'pin4': ['',\r\n        [requireValidator('pin4'),\r\n        numericValidator()]],\r\n      'pin5': ['',\r\n        [requireValidator('pin5'),\r\n        numericValidator()]],\r\n      'pinConfirm1': [''],\r\n      'pinConfirm2': [''],\r\n      'pinConfirm3': [''],\r\n      'pinConfirm4': [''],\r\n      'pinConfirm5': ['']\r\n    }, {\r\n      validator: {\r\n        validators: checkMatchWith([{Field: 'pin1', ConfirmField: 'pinConfirm1'},\r\n          {Field: 'pin2', ConfirmField: 'pinConfirm2'},\r\n          {Field: 'pin3', ConfirmField: 'pinConfirm3'},\r\n          {Field: 'pin4', ConfirmField: 'pinConfirm4'},\r\n          {Field: 'pin5', ConfirmField: 'pinConfirm5'}]),\r\n        updateOn: 'blur'\r\n      }\r\n    });\r\n\r\n    this.setupPINForm.statusChanges.subscribe(() => {\r\n      if (this.textInputs) {\r\n        this.textInputs.forEach(input => input && input._inputUpdated && input._inputUpdated());\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  errorMessage(path: string) {\r\n    const control = this.setupPINForm.get(path);\r\n    const requiredMsg = app.Configuration.ContentMessage.required;\r\n    if (control.valid) {\r\n      return '';\r\n    }\r\n\r\n    if (path === 'pin1' || path === 'pin2' || path === 'pin3' || path === 'pin4' || path === 'pin5' || path === 'pinConfirm1') {\r\n      if (control.hasError('required')) {\r\n        return control.getError('required');\r\n      } else {\r\n        if (control.hasError('minlengthField')) {\r\n          return control.getError('minlengthField')\r\n        }\r\n\r\n        if (control.hasError('notEquivalent')) {\r\n          return control.getError('notEquivalent')\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onFocusInput(event) {\r\n  }\r\n\r\n  focusoutInput(event) {\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/AccountManagement/setupPIN/setupPIN.ts","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport {HttpService} from \"../../../framework/services/httpService/http.service\";\r\n\r\n@Injectable()\r\nexport class SetupPINService {\r\n  constructor(\r\n    private http: HttpService\r\n  ) {\r\n  }\r\n\r\n  updatePIN(): Observable<any> {\r\n    return this.http.get(\"account/password-policy\");\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/spa/+screens/AccountManagement/setupPIN/setupPIN.service.ts"],"sourceRoot":""}